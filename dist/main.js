/*! For license information please see main.js.LICENSE.txt */
(()=>{var __webpack_modules__={543(e,t,r){var n;e=r.nmd(e),function(){var o,i="Expected a function",u="__lodash_hash_undefined__",a="__lodash_placeholder__",l=32,s=128,f=1/0,c=9007199254740991,_=NaN,R=4294967295,p=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",l],["partialRight",64],["rearg",256]],m="[object Arguments]",h="[object Array]",T="[object Boolean]",g="[object Date]",d="[object Error]",y="[object Function]",v="[object GeneratorFunction]",E="[object Map]",S="[object Number]",C="[object Object]",O="[object Promise]",U="[object RegExp]",I="[object Set]",N="[object String]",A="[object Symbol]",b="[object WeakMap]",P="[object ArrayBuffer]",M="[object DataView]",w="[object Float32Array]",D="[object Float64Array]",x="[object Int8Array]",F="[object Int16Array]",k="[object Int32Array]",Y="[object Uint8Array]",G="[object Uint8ClampedArray]",L="[object Uint16Array]",B="[object Uint32Array]",W=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,V=RegExp(z.source),H=RegExp($.source),X=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,se=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_e=/\w*$/,Re=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,he=/^0o[0-7]+$/i,Te=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,de=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,ve="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ue="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="["+ve+"]",Ae="["+Ie+"]",be="["+Ee+"]",Pe="\\d+",Me="["+Se+"]",we="["+Ce+"]",De="[^"+ve+Ie+Pe+Se+Ce+Oe+"]",xe="\\ud83c[\\udffb-\\udfff]",Fe="[^"+ve+"]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Ye="[\\ud800-\\udbff][\\udc00-\\udfff]",Ge="["+Oe+"]",Le="\\u200d",Be="(?:"+we+"|"+De+")",We="(?:"+Ge+"|"+De+")",Ke="(?:['’](?:d|ll|m|re|s|t|ve))?",je="(?:['’](?:D|LL|M|RE|S|T|VE))?",ze="(?:"+be+"|"+xe+")?",$e="["+Ue+"]?",Ve=$e+ze+"(?:"+Le+"(?:"+[Fe,ke,Ye].join("|")+")"+$e+ze+")*",He="(?:"+[Me,ke,Ye].join("|")+")"+Ve,Xe="(?:"+[Fe+be+"?",be,ke,Ye,Ne].join("|")+")",qe=RegExp("['’]","g"),Ze=RegExp(be,"g"),Je=RegExp(xe+"(?="+xe+")|"+Xe+Ve,"g"),Qe=RegExp([Ge+"?"+we+"+"+Ke+"(?="+[Ae,Ge,"$"].join("|")+")",We+"+"+je+"(?="+[Ae,Ge+Be,"$"].join("|")+")",Ge+"?"+Be+"+"+Ke,Ge+"+"+je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,He].join("|"),"g"),et=RegExp("["+Le+ve+Ee+Ue+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,ot={};ot[w]=ot[D]=ot[x]=ot[F]=ot[k]=ot[Y]=ot[G]=ot[L]=ot[B]=!0,ot[m]=ot[h]=ot[P]=ot[T]=ot[M]=ot[g]=ot[d]=ot[y]=ot[E]=ot[S]=ot[C]=ot[U]=ot[I]=ot[N]=ot[b]=!1;var it={};it[m]=it[h]=it[P]=it[M]=it[T]=it[g]=it[w]=it[D]=it[x]=it[F]=it[k]=it[E]=it[S]=it[C]=it[U]=it[I]=it[N]=it[A]=it[Y]=it[G]=it[L]=it[B]=!0,it[d]=it[y]=it[b]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,st="object"==typeof global&&global&&global.Object===Object&&global,ft="object"==typeof self&&self&&self.Object===Object&&self,ct=st||ft||Function("return this")(),_t=t&&!t.nodeType&&t,Rt=_t&&e&&!e.nodeType&&e,pt=Rt&&Rt.exports===_t,mt=pt&&st.process,ht=function(){try{return Rt&&Rt.require&&Rt.require("util").types||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),Tt=ht&&ht.isArrayBuffer,gt=ht&&ht.isDate,dt=ht&&ht.isMap,yt=ht&&ht.isRegExp,vt=ht&&ht.isSet,Et=ht&&ht.isTypedArray;function St(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ct(e,t,r,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var u=e[o];t(n,u,r(u),e)}return n}function Ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Ut(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function It(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Nt(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var u=e[r];t(u,r,e)&&(i[o++]=u)}return i}function At(e,t){return!(null==e||!e.length)&&Gt(e,t,0)>-1}function bt(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}function Pt(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function Mt(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function wt(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function Dt(e,t,r,n){var o=null==e?0:e.length;for(n&&o&&(r=e[--o]);o--;)r=t(r,e[o],o,e);return r}function xt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ft=Kt("length");function kt(e,t,r){var n;return r(e,function(e,r,o){if(t(e,r,o))return n=r,!1}),n}function Yt(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Gt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,r):Yt(e,Bt,r)}function Lt(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function Bt(e){return e!=e}function Wt(e,t){var r=null==e?0:e.length;return r?$t(e,t)/r:_}function Kt(e){return function(t){return null==t?o:t[e]}}function jt(e){return function(t){return null==e?o:e[t]}}function zt(e,t,r,n,o){return o(e,function(e,o,i){r=n?(n=!1,e):t(r,e,o,i)}),r}function $t(e,t){for(var r,n=-1,i=e.length;++n<i;){var u=t(e[n]);u!==o&&(r=r===o?u:r+u)}return r}function Vt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Ht(e){return e?e.slice(0,cr(e)+1).replace(ne,""):e}function Xt(e){return function(t){return e(t)}}function qt(e,t){return Pt(t,function(t){return e[t]})}function Zt(e,t){return e.has(t)}function Jt(e,t){for(var r=-1,n=e.length;++r<n&&Gt(t,e[r],0)>-1;);return r}function Qt(e,t){for(var r=e.length;r--&&Gt(t,e[r],0)>-1;);return r}var er=jt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tr=jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rr(e){return"\\"+ut[e]}function nr(e){return et.test(e)}function or(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function ir(e,t){return function(r){return e(t(r))}}function ur(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var u=e[r];u!==t&&u!==a||(e[r]=a,i[o++]=r)}return i}function ar(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function lr(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}function sr(e){return nr(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):Ft(e)}function fr(e){return nr(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function cr(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var _r=jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Rr=function e(t){var r,n=(t=null==t?ct:Rr.defaults(ct.Object(),t,Rr.pick(ct,rt))).Array,oe=t.Date,ve=t.Error,Ee=t.Function,Se=t.Math,Ce=t.Object,Oe=t.RegExp,Ue=t.String,Ie=t.TypeError,Ne=n.prototype,Ae=Ee.prototype,be=Ce.prototype,Pe=t["__core-js_shared__"],Me=Ae.toString,we=be.hasOwnProperty,De=0,xe=(r=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Fe=be.toString,ke=Me.call(Ce),Ye=ct._,Ge=Oe("^"+Me.call(we).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=pt?t.Buffer:o,Be=t.Symbol,We=t.Uint8Array,Ke=Le?Le.allocUnsafe:o,je=ir(Ce.getPrototypeOf,Ce),ze=Ce.create,$e=be.propertyIsEnumerable,Ve=Ne.splice,He=Be?Be.isConcatSpreadable:o,Xe=Be?Be.iterator:o,Je=Be?Be.toStringTag:o,et=function(){try{var e=si(Ce,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=t.clearTimeout!==ct.clearTimeout&&t.clearTimeout,st=oe&&oe.now!==ct.Date.now&&oe.now,ft=t.setTimeout!==ct.setTimeout&&t.setTimeout,_t=Se.ceil,Rt=Se.floor,mt=Ce.getOwnPropertySymbols,ht=Le?Le.isBuffer:o,Ft=t.isFinite,jt=Ne.join,pr=ir(Ce.keys,Ce),mr=Se.max,hr=Se.min,Tr=oe.now,gr=t.parseInt,dr=Se.random,yr=Ne.reverse,vr=si(t,"DataView"),Er=si(t,"Map"),Sr=si(t,"Promise"),Cr=si(t,"Set"),Or=si(t,"WeakMap"),Ur=si(Ce,"create"),Ir=Or&&new Or,Nr={},Ar=ki(vr),br=ki(Er),Pr=ki(Sr),Mr=ki(Cr),wr=ki(Or),Dr=Be?Be.prototype:o,xr=Dr?Dr.valueOf:o,Fr=Dr?Dr.toString:o;function kr(e){if(ea(e)&&!Ku(e)&&!(e instanceof Br)){if(e instanceof Lr)return e;if(we.call(e,"__wrapped__"))return Yi(e)}return new Lr(e)}var Yr=function(){function e(){}return function(t){if(!Qu(t))return{};if(ze)return ze(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function Gr(){}function Lr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Br(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=R,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function jr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new jr;++t<r;)this.add(e[t])}function $r(e){var t=this.__data__=new Kr(e);this.size=t.size}function Vr(e,t){var r=Ku(e),n=!r&&Wu(e),o=!r&&!n&&Vu(e),i=!r&&!n&&!o&&la(e),u=r||n||o||i,a=u?Vt(e.length,Ue):[],l=a.length;for(var s in e)!t&&!we.call(e,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||hi(s,l))||a.push(s);return a}function Hr(e){var t=e.length;return t?e[zn(0,t-1)]:o}function Xr(e,t){return Mi(Io(e),on(t,0,e.length))}function qr(e){return Mi(Io(e))}function Zr(e,t,r){(r!==o&&!Gu(e[t],r)||r===o&&!(t in e))&&rn(e,t,r)}function Jr(e,t,r){var n=e[t];we.call(e,t)&&Gu(n,r)&&(r!==o||t in e)||rn(e,t,r)}function Qr(e,t){for(var r=e.length;r--;)if(Gu(e[r][0],t))return r;return-1}function en(e,t,r,n){return fn(e,function(e,o,i){t(n,e,r(e),i)}),n}function tn(e,t){return e&&No(t,ba(t),e)}function rn(e,t,r){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function nn(e,t){for(var r=-1,i=t.length,u=n(i),a=null==e;++r<i;)u[r]=a?o:Oa(e,t[r]);return u}function on(e,t,r){return e==e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function un(e,t,r,n,i,u){var a,l=1&t,s=2&t,f=4&t;if(r&&(a=i?r(e,n,i,u):r(e)),a!==o)return a;if(!Qu(e))return e;var c=Ku(e);if(c){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&we.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!l)return Io(e,a)}else{var _=_i(e),R=_==y||_==v;if(Vu(e))return vo(e,l);if(_==C||_==m||R&&!i){if(a=s||R?{}:pi(e),!l)return s?function(e,t){return No(e,ci(e),t)}(e,function(e,t){return e&&No(t,Pa(t),e)}(a,e)):function(e,t){return No(e,fi(e),t)}(e,tn(a,e))}else{if(!it[_])return i?e:{};a=function(e,t,r){var n,o=e.constructor;switch(t){case P:return Eo(e);case T:case g:return new o(+e);case M:return function(e,t){var r=t?Eo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case w:case D:case x:case F:case k:case Y:case G:case L:case B:return So(e,r);case E:return new o;case S:case N:return new o(e);case U:return function(e){var t=new e.constructor(e.source,_e.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new o;case A:return n=e,xr?Ce(xr.call(n)):{}}}(e,_,l)}}u||(u=new $r);var p=u.get(e);if(p)return p;u.set(e,a),ia(e)?e.forEach(function(n){a.add(un(n,t,r,n,e,u))}):ta(e)&&e.forEach(function(n,o){a.set(o,un(n,t,r,o,e,u))});var h=c?o:(f?s?ri:ti:s?Pa:ba)(e);return Ot(h||e,function(n,o){h&&(n=e[o=n]),Jr(a,o,un(n,t,r,o,e,u))}),a}function an(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ce(e);n--;){var i=r[n],u=t[i],a=e[i];if(a===o&&!(i in e)||!u(a))return!1}return!0}function ln(e,t,r){if("function"!=typeof e)throw new Ie(i);return Ni(function(){e.apply(o,r)},t)}function sn(e,t,r,n){var o=-1,i=At,u=!0,a=e.length,l=[],s=t.length;if(!a)return l;r&&(t=Pt(t,Xt(r))),n?(i=bt,u=!1):t.length>=200&&(i=Zt,u=!1,t=new zr(t));e:for(;++o<a;){var f=e[o],c=null==r?f:r(f);if(f=n||0!==f?f:0,u&&c==c){for(var _=s;_--;)if(t[_]===c)continue e;l.push(f)}else i(t,c,n)||l.push(f)}return l}kr.templateSettings={escape:X,evaluate:q,interpolate:Z,variable:"",imports:{_:kr}},kr.prototype=Gr.prototype,kr.prototype.constructor=kr,Lr.prototype=Yr(Gr.prototype),Lr.prototype.constructor=Lr,Br.prototype=Yr(Gr.prototype),Br.prototype.constructor=Br,Wr.prototype.clear=function(){this.__data__=Ur?Ur(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(e){var t=this.__data__;if(Ur){var r=t[e];return r===u?o:r}return we.call(t,e)?t[e]:o},Wr.prototype.has=function(e){var t=this.__data__;return Ur?t[e]!==o:we.call(t,e)},Wr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ur&&t===o?u:t,this},Kr.prototype.clear=function(){this.__data__=[],this.size=0},Kr.prototype.delete=function(e){var t=this.__data__,r=Qr(t,e);return!(r<0||(r==t.length-1?t.pop():Ve.call(t,r,1),--this.size,0))},Kr.prototype.get=function(e){var t=this.__data__,r=Qr(t,e);return r<0?o:t[r][1]},Kr.prototype.has=function(e){return Qr(this.__data__,e)>-1},Kr.prototype.set=function(e,t){var r=this.__data__,n=Qr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},jr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Er||Kr),string:new Wr}},jr.prototype.delete=function(e){var t=ai(this,e).delete(e);return this.size-=t?1:0,t},jr.prototype.get=function(e){return ai(this,e).get(e)},jr.prototype.has=function(e){return ai(this,e).has(e)},jr.prototype.set=function(e,t){var r=ai(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},zr.prototype.add=zr.prototype.push=function(e){return this.__data__.set(e,u),this},zr.prototype.has=function(e){return this.__data__.has(e)},$r.prototype.clear=function(){this.__data__=new Kr,this.size=0},$r.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},$r.prototype.get=function(e){return this.__data__.get(e)},$r.prototype.has=function(e){return this.__data__.has(e)},$r.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Kr){var n=r.__data__;if(!Er||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new jr(n)}return r.set(e,t),this.size=r.size,this};var fn=Po(gn),cn=Po(dn,!0);function _n(e,t){var r=!0;return fn(e,function(e,n,o){return r=!!t(e,n,o)}),r}function Rn(e,t,r){for(var n=-1,i=e.length;++n<i;){var u=e[n],a=t(u);if(null!=a&&(l===o?a==a&&!aa(a):r(a,l)))var l=a,s=u}return s}function pn(e,t){var r=[];return fn(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r}function mn(e,t,r,n,o){var i=-1,u=e.length;for(r||(r=mi),o||(o=[]);++i<u;){var a=e[i];t>0&&r(a)?t>1?mn(a,t-1,r,n,o):Mt(o,a):n||(o[o.length]=a)}return o}var hn=Mo(),Tn=Mo(!0);function gn(e,t){return e&&hn(e,t,ba)}function dn(e,t){return e&&Tn(e,t,ba)}function yn(e,t){return Nt(t,function(t){return qu(e[t])})}function vn(e,t){for(var r=0,n=(t=ho(t,e)).length;null!=e&&r<n;)e=e[Fi(t[r++])];return r&&r==n?e:o}function En(e,t,r){var n=t(e);return Ku(e)?n:Mt(n,r(e))}function Sn(e){return null==e?e===o?"[object Undefined]":"[object Null]":Je&&Je in Ce(e)?function(e){var t=we.call(e,Je),r=e[Je];try{e[Je]=o;var n=!0}catch(e){}var i=Fe.call(e);return n&&(t?e[Je]=r:delete e[Je]),i}(e):function(e){return Fe.call(e)}(e)}function Cn(e,t){return e>t}function On(e,t){return null!=e&&we.call(e,t)}function Un(e,t){return null!=e&&t in Ce(e)}function In(e,t,r){for(var i=r?bt:At,u=e[0].length,a=e.length,l=a,s=n(a),f=1/0,c=[];l--;){var _=e[l];l&&t&&(_=Pt(_,Xt(t))),f=hr(_.length,f),s[l]=!r&&(t||u>=120&&_.length>=120)?new zr(l&&_):o}_=e[0];var R=-1,p=s[0];e:for(;++R<u&&c.length<f;){var m=_[R],h=t?t(m):m;if(m=r||0!==m?m:0,!(p?Zt(p,h):i(c,h,r))){for(l=a;--l;){var T=s[l];if(!(T?Zt(T,h):i(e[l],h,r)))continue e}p&&p.push(h),c.push(m)}}return c}function Nn(e,t,r){var n=null==(e=Oi(e,t=ho(t,e)))?e:e[Fi(Xi(t))];return null==n?o:St(n,e,r)}function An(e){return ea(e)&&Sn(e)==m}function bn(e,t,r,n,i){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,r,n,i,u){var a=Ku(e),l=Ku(t),s=a?h:_i(e),f=l?h:_i(t),c=(s=s==m?C:s)==C,_=(f=f==m?C:f)==C,R=s==f;if(R&&Vu(e)){if(!Vu(t))return!1;a=!0,c=!1}if(R&&!c)return u||(u=new $r),a||la(e)?Qo(e,t,r,n,i,u):function(e,t,r,n,o,i,u){switch(r){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!i(new We(e),new We(t)));case T:case g:case S:return Gu(+e,+t);case d:return e.name==t.name&&e.message==t.message;case U:case N:return e==t+"";case E:var a=or;case I:var l=1&n;if(a||(a=ar),e.size!=t.size&&!l)return!1;var s=u.get(e);if(s)return s==t;n|=2,u.set(e,t);var f=Qo(a(e),a(t),n,o,i,u);return u.delete(e),f;case A:if(xr)return xr.call(e)==xr.call(t)}return!1}(e,t,s,r,n,i,u);if(!(1&r)){var p=c&&we.call(e,"__wrapped__"),y=_&&we.call(t,"__wrapped__");if(p||y){var v=p?e.value():e,O=y?t.value():t;return u||(u=new $r),i(v,O,r,n,u)}}return!!R&&(u||(u=new $r),function(e,t,r,n,i,u){var a=1&r,l=ti(e),s=l.length;if(s!=ti(t).length&&!a)return!1;for(var f=s;f--;){var c=l[f];if(!(a?c in t:we.call(t,c)))return!1}var _=u.get(e),R=u.get(t);if(_&&R)return _==t&&R==e;var p=!0;u.set(e,t),u.set(t,e);for(var m=a;++f<s;){var h=e[c=l[f]],T=t[c];if(n)var g=a?n(T,h,c,t,e,u):n(h,T,c,e,t,u);if(!(g===o?h===T||i(h,T,r,n,u):g)){p=!1;break}m||(m="constructor"==c)}if(p&&!m){var d=e.constructor,y=t.constructor;d==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof d&&d instanceof d&&"function"==typeof y&&y instanceof y||(p=!1)}return u.delete(e),u.delete(t),p}(e,t,r,n,i,u))}(e,t,r,n,bn,i))}function Pn(e,t,r,n){var i=r.length,u=i,a=!n;if(null==e)return!u;for(e=Ce(e);i--;){var l=r[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<u;){var s=(l=r[i])[0],f=e[s],c=l[1];if(a&&l[2]){if(f===o&&!(s in e))return!1}else{var _=new $r;if(n)var R=n(f,c,s,e,t,_);if(!(R===o?bn(c,f,3,n,_):R))return!1}}return!0}function Mn(e){return!(!Qu(e)||(t=e,xe&&xe in t))&&(qu(e)?Ge:me).test(ki(e));var t}function wn(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Ku(e)?Yn(e[0],e[1]):kn(e):cl(e)}function Dn(e){if(!vi(e))return pr(e);var t=[];for(var r in Ce(e))we.call(e,r)&&"constructor"!=r&&t.push(r);return t}function xn(e,t){return e<t}function Fn(e,t){var r=-1,o=zu(e)?n(e.length):[];return fn(e,function(e,n,i){o[++r]=t(e,n,i)}),o}function kn(e){var t=li(e);return 1==t.length&&t[0][2]?Si(t[0][0],t[0][1]):function(r){return r===e||Pn(r,e,t)}}function Yn(e,t){return gi(e)&&Ei(t)?Si(Fi(e),t):function(r){var n=Oa(r,e);return n===o&&n===t?Ua(r,e):bn(t,n,3)}}function Gn(e,t,r,n,i){e!==t&&hn(t,function(u,a){if(i||(i=new $r),Qu(u))!function(e,t,r,n,i,u,a){var l=Ui(e,r),s=Ui(t,r),f=a.get(s);if(f)Zr(e,r,f);else{var c=u?u(l,s,r+"",e,t,a):o,_=c===o;if(_){var R=Ku(s),p=!R&&Vu(s),m=!R&&!p&&la(s);c=s,R||p||m?Ku(l)?c=l:$u(l)?c=Io(l):p?(_=!1,c=vo(s,!0)):m?(_=!1,c=So(s,!0)):c=[]:na(s)||Wu(s)?(c=l,Wu(l)?c=ha(l):Qu(l)&&!qu(l)||(c=pi(s))):_=!1}_&&(a.set(s,c),i(c,s,n,u,a),a.delete(s)),Zr(e,r,c)}}(e,t,a,r,Gn,n,i);else{var l=n?n(Ui(e,a),u,a+"",e,t,i):o;l===o&&(l=u),Zr(e,a,l)}},Pa)}function Ln(e,t){var r=e.length;if(r)return hi(t+=t<0?r:0,r)?e[t]:o}function Bn(e,t,r){t=t.length?Pt(t,function(e){return Ku(e)?function(t){return vn(t,1===e.length?e[0]:e)}:e}):[rl];var n=-1;t=Pt(t,Xt(ui()));var o=Fn(e,function(e,r,o){var i=Pt(t,function(t){return t(e)});return{criteria:i,index:++n,value:e}});return function(e){var t=e.length;for(e.sort(function(e,t){return function(e,t,r){for(var n=-1,o=e.criteria,i=t.criteria,u=o.length,a=r.length;++n<u;){var l=Co(o[n],i[n]);if(l)return n>=a?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)});t--;)e[t]=e[t].value;return e}(o)}function Wn(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var u=t[n],a=vn(e,u);r(a,u)&&qn(i,ho(u,e),a)}return i}function Kn(e,t,r,n){var o=n?Lt:Gt,i=-1,u=t.length,a=e;for(e===t&&(t=Io(t)),r&&(a=Pt(e,Xt(r)));++i<u;)for(var l=0,s=t[i],f=r?r(s):s;(l=o(a,f,l,n))>-1;)a!==e&&Ve.call(a,l,1),Ve.call(e,l,1);return e}function jn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var o=t[r];if(r==n||o!==i){var i=o;hi(o)?Ve.call(e,o,1):lo(e,o)}}return e}function zn(e,t){return e+Rt(dr()*(t-e+1))}function $n(e,t){var r="";if(!e||t<1||t>c)return r;do{t%2&&(r+=e),(t=Rt(t/2))&&(e+=e)}while(t);return r}function Vn(e,t){return Ai(Ci(e,t,rl),e+"")}function Hn(e){return Hr(Ga(e))}function Xn(e,t){var r=Ga(e);return Mi(r,on(t,0,r.length))}function qn(e,t,r,n){if(!Qu(e))return e;for(var i=-1,u=(t=ho(t,e)).length,a=u-1,l=e;null!=l&&++i<u;){var s=Fi(t[i]),f=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=a){var c=l[s];(f=n?n(c,s,l):o)===o&&(f=Qu(c)?c:hi(t[i+1])?[]:{})}Jr(l,s,f),l=l[s]}return e}var Zn=Ir?function(e,t){return Ir.set(e,t),e}:rl,Jn=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Qa(t),writable:!0})}:rl;function Qn(e){return Mi(Ga(e))}function eo(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var u=n(i);++o<i;)u[o]=e[o+t];return u}function to(e,t){var r;return fn(e,function(e,n,o){return!(r=t(e,n,o))}),!!r}function ro(e,t,r){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;n<o;){var i=n+o>>>1,u=e[i];null!==u&&!aa(u)&&(r?u<=t:u<t)?n=i+1:o=i}return o}return no(e,t,rl,r)}function no(e,t,r,n){var i=0,u=null==e?0:e.length;if(0===u)return 0;for(var a=(t=r(t))!=t,l=null===t,s=aa(t),f=t===o;i<u;){var c=Rt((i+u)/2),_=r(e[c]),R=_!==o,p=null===_,m=_==_,h=aa(_);if(a)var T=n||m;else T=f?m&&(n||R):l?m&&R&&(n||!p):s?m&&R&&!p&&(n||!h):!p&&!h&&(n?_<=t:_<t);T?i=c+1:u=c}return hr(u,4294967294)}function oo(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var u=e[r],a=t?t(u):u;if(!r||!Gu(a,l)){var l=a;i[o++]=0===u?0:u}}return i}function io(e){return"number"==typeof e?e:aa(e)?_:+e}function uo(e){if("string"==typeof e)return e;if(Ku(e))return Pt(e,uo)+"";if(aa(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ao(e,t,r){var n=-1,o=At,i=e.length,u=!0,a=[],l=a;if(r)u=!1,o=bt;else if(i>=200){var s=t?null:Vo(e);if(s)return ar(s);u=!1,o=Zt,l=new zr}else l=t?[]:a;e:for(;++n<i;){var f=e[n],c=t?t(f):f;if(f=r||0!==f?f:0,u&&c==c){for(var _=l.length;_--;)if(l[_]===c)continue e;t&&l.push(c),a.push(f)}else o(l,c,r)||(l!==a&&l.push(c),a.push(f))}return a}function lo(e,t){var r=-1,n=(t=ho(t,e)).length;if(!n)return!0;for(var o=null==e||"object"!=typeof e&&"function"!=typeof e;++r<n;){var i=t[r];if("string"==typeof i){if("__proto__"===i&&!we.call(e,"__proto__"))return!1;if("constructor"===i&&r+1<n&&"string"==typeof t[r+1]&&"prototype"===t[r+1]){if(o&&0===r)continue;return!1}}}var u=Oi(e,t);return null==u||delete u[Fi(Xi(t))]}function so(e,t,r,n){return qn(e,t,r(vn(e,t)),n)}function fo(e,t,r,n){for(var o=e.length,i=n?o:-1;(n?i--:++i<o)&&t(e[i],i,e););return r?eo(e,n?0:i,n?i+1:o):eo(e,n?i+1:0,n?o:i)}function co(e,t){var r=e;return r instanceof Br&&(r=r.value()),wt(t,function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))},r)}function _o(e,t,r){var o=e.length;if(o<2)return o?ao(e[0]):[];for(var i=-1,u=n(o);++i<o;)for(var a=e[i],l=-1;++l<o;)l!=i&&(u[i]=sn(u[i]||a,e[l],t,r));return ao(mn(u,1),t,r)}function Ro(e,t,r){for(var n=-1,i=e.length,u=t.length,a={};++n<i;){var l=n<u?t[n]:o;r(a,e[n],l)}return a}function po(e){return $u(e)?e:[]}function mo(e){return"function"==typeof e?e:rl}function ho(e,t){return Ku(e)?e:gi(e,t)?[e]:xi(Ta(e))}var To=Vn;function go(e,t,r){var n=e.length;return r=r===o?n:r,!t&&r>=n?e:eo(e,t,r)}var yo=ut||function(e){return ct.clearTimeout(e)};function vo(e,t){if(t)return e.slice();var r=e.length,n=Ke?Ke(r):new e.constructor(r);return e.copy(n),n}function Eo(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function So(e,t){var r=t?Eo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Co(e,t){if(e!==t){var r=e!==o,n=null===e,i=e==e,u=aa(e),a=t!==o,l=null===t,s=t==t,f=aa(t);if(!l&&!f&&!u&&e>t||u&&a&&s&&!l&&!f||n&&a&&s||!r&&s||!i)return 1;if(!n&&!u&&!f&&e<t||f&&r&&i&&!n&&!u||l&&r&&i||!a&&i||!s)return-1}return 0}function Oo(e,t,r,o){for(var i=-1,u=e.length,a=r.length,l=-1,s=t.length,f=mr(u-a,0),c=n(s+f),_=!o;++l<s;)c[l]=t[l];for(;++i<a;)(_||i<u)&&(c[r[i]]=e[i]);for(;f--;)c[l++]=e[i++];return c}function Uo(e,t,r,o){for(var i=-1,u=e.length,a=-1,l=r.length,s=-1,f=t.length,c=mr(u-l,0),_=n(c+f),R=!o;++i<c;)_[i]=e[i];for(var p=i;++s<f;)_[p+s]=t[s];for(;++a<l;)(R||i<u)&&(_[p+r[a]]=e[i++]);return _}function Io(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function No(e,t,r,n){var i=!r;r||(r={});for(var u=-1,a=t.length;++u<a;){var l=t[u],s=n?n(r[l],e[l],l,r,e):o;s===o&&(s=e[l]),i?rn(r,l,s):Jr(r,l,s)}return r}function Ao(e,t){return function(r,n){var o=Ku(r)?Ct:en,i=t?t():{};return o(r,e,ui(n,2),i)}}function bo(e){return Vn(function(t,r){var n=-1,i=r.length,u=i>1?r[i-1]:o,a=i>2?r[2]:o;for(u=e.length>3&&"function"==typeof u?(i--,u):o,a&&Ti(r[0],r[1],a)&&(u=i<3?o:u,i=1),t=Ce(t);++n<i;){var l=r[n];l&&e(t,l,n,u)}return t})}function Po(e,t){return function(r,n){if(null==r)return r;if(!zu(r))return e(r,n);for(var o=r.length,i=t?o:-1,u=Ce(r);(t?i--:++i<o)&&!1!==n(u[i],i,u););return r}}function Mo(e){return function(t,r,n){for(var o=-1,i=Ce(t),u=n(t),a=u.length;a--;){var l=u[e?a:++o];if(!1===r(i[l],l,i))break}return t}}function wo(e){return function(t){var r=nr(t=Ta(t))?fr(t):o,n=r?r[0]:t.charAt(0),i=r?go(r,1).join(""):t.slice(1);return n[e]()+i}}function Do(e){return function(t){return wt(qa(Wa(t).replace(qe,"")),e,"")}}function xo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Yr(e.prototype),n=e.apply(r,t);return Qu(n)?n:r}}function Fo(e){return function(t,r,n){var i=Ce(t);if(!zu(t)){var u=ui(r,3);t=ba(t),r=function(e){return u(i[e],e,i)}}var a=e(t,r,n);return a>-1?i[u?t[a]:a]:o}}function ko(e){return ei(function(t){var r=t.length,n=r,u=Lr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Ie(i);if(u&&!l&&"wrapper"==oi(a))var l=new Lr([],!0)}for(n=l?n:r;++n<r;){var s=oi(a=t[n]),f="wrapper"==s?ni(a):o;l=f&&di(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?l[oi(f[0])].apply(l,f[3]):1==a.length&&di(a)?l[s]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Ku(n))return l.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}})}function Yo(e,t,r,i,u,a,l,f,c,_){var R=t&s,p=1&t,m=2&t,h=24&t,T=512&t,g=m?o:xo(e);return function s(){for(var d=arguments.length,y=n(d),v=d;v--;)y[v]=arguments[v];if(h)var E=ii(s),S=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(y,E);if(i&&(y=Oo(y,i,u,h)),a&&(y=Uo(y,a,l,h)),d-=S,h&&d<_){var C=ur(y,E);return zo(e,t,Yo,s.placeholder,r,y,C,f,c,_-d)}var O=p?r:this,U=m?O[e]:e;return d=y.length,f?y=function(e,t){for(var r=e.length,n=hr(t.length,r),i=Io(e);n--;){var u=t[n];e[n]=hi(u,r)?i[u]:o}return e}(y,f):T&&d>1&&y.reverse(),R&&c<d&&(y.length=c),this&&this!==ct&&this instanceof s&&(U=g||xo(U)),U.apply(O,y)}}function Go(e,t){return function(r,n){return function(e,t,r,n){return gn(e,function(e,o,i){t(n,r(e),o,i)}),n}(r,e,t(n),{})}}function Lo(e,t){return function(r,n){var i;if(r===o&&n===o)return t;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=uo(r),n=uo(n)):(r=io(r),n=io(n)),i=e(r,n)}return i}}function Bo(e){return ei(function(t){return t=Pt(t,Xt(ui())),Vn(function(r){var n=this;return e(t,function(e){return St(e,n,r)})})})}function Wo(e,t){var r=(t=t===o?" ":uo(t)).length;if(r<2)return r?$n(t,e):t;var n=$n(t,_t(e/sr(t)));return nr(t)?go(fr(n),0,e).join(""):n.slice(0,e)}function Ko(e){return function(t,r,i){return i&&"number"!=typeof i&&Ti(t,r,i)&&(r=i=o),t=_a(t),r===o?(r=t,t=0):r=_a(r),function(e,t,r,o){for(var i=-1,u=mr(_t((t-e)/(r||1)),0),a=n(u);u--;)a[o?u:++i]=e,e+=r;return a}(t,r,i=i===o?t<r?1:-1:_a(i),e)}}function jo(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ma(t),r=ma(r)),e(t,r)}}function zo(e,t,r,n,i,u,a,s,f,c){var _=8&t;t|=_?l:64,4&(t&=~(_?64:l))||(t&=-4);var R=[e,t,i,_?u:o,_?a:o,_?o:u,_?o:a,s,f,c],p=r.apply(o,R);return di(e)&&Ii(p,R),p.placeholder=n,bi(p,e,t)}function $o(e){var t=Se[e];return function(e,r){if(e=ma(e),(r=null==r?0:hr(Ra(r),292))&&Ft(e)){var n=(Ta(e)+"e").split("e");return+((n=(Ta(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Vo=Cr&&1/ar(new Cr([,-0]))[1]==f?function(e){return new Cr(e)}:al;function Ho(e){return function(t){var r=_i(t);return r==E?or(t):r==I?lr(t):function(e,t){return Pt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Xo(e,t,r,u,f,c,_,R){var p=2&t;if(!p&&"function"!=typeof e)throw new Ie(i);var m=u?u.length:0;if(m||(t&=-97,u=f=o),_=_===o?_:mr(Ra(_),0),R=R===o?R:Ra(R),m-=f?f.length:0,64&t){var h=u,T=f;u=f=o}var g=p?o:ni(e),d=[e,t,r,u,f,h,T,c,_,R];if(g&&function(e,t){var r=e[1],n=t[1],o=r|n,i=o<131,u=n==s&&8==r||n==s&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!i&&!u)return e;1&n&&(e[2]=t[2],o|=1&r?0:4);var l=t[3];if(l){var f=e[3];e[3]=f?Oo(f,l,t[4]):l,e[4]=f?ur(e[3],a):t[4]}(l=t[5])&&(f=e[5],e[5]=f?Uo(f,l,t[6]):l,e[6]=f?ur(e[5],a):t[6]),(l=t[7])&&(e[7]=l),n&s&&(e[8]=null==e[8]?t[8]:hr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(d,g),e=d[0],t=d[1],r=d[2],u=d[3],f=d[4],!(R=d[9]=d[9]===o?p?0:e.length:mr(d[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,r){var i=xo(e);return function u(){for(var a=arguments.length,l=n(a),s=a,f=ii(u);s--;)l[s]=arguments[s];var c=a<3&&l[0]!==f&&l[a-1]!==f?[]:ur(l,f);return(a-=c.length)<r?zo(e,t,Yo,u.placeholder,o,l,c,o,o,r-a):St(this&&this!==ct&&this instanceof u?i:e,this,l)}}(e,t,R):t!=l&&33!=t||f.length?Yo.apply(o,d):function(e,t,r,o){var i=1&t,u=xo(e);return function t(){for(var a=-1,l=arguments.length,s=-1,f=o.length,c=n(f+l),_=this&&this!==ct&&this instanceof t?u:e;++s<f;)c[s]=o[s];for(;l--;)c[s++]=arguments[++a];return St(_,i?r:this,c)}}(e,t,r,u);else var y=function(e,t,r){var n=1&t,o=xo(e);return function t(){return(this&&this!==ct&&this instanceof t?o:e).apply(n?r:this,arguments)}}(e,t,r);return bi((g?Zn:Ii)(y,d),e,t)}function qo(e,t,r,n){return e===o||Gu(e,be[r])&&!we.call(n,r)?t:e}function Zo(e,t,r,n,i,u){return Qu(e)&&Qu(t)&&(u.set(t,e),Gn(e,t,o,Zo,u),u.delete(t)),e}function Jo(e){return na(e)?o:e}function Qo(e,t,r,n,i,u){var a=1&r,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var f=u.get(e),c=u.get(t);if(f&&c)return f==t&&c==e;var _=-1,R=!0,p=2&r?new zr:o;for(u.set(e,t),u.set(t,e);++_<l;){var m=e[_],h=t[_];if(n)var T=a?n(h,m,_,t,e,u):n(m,h,_,e,t,u);if(T!==o){if(T)continue;R=!1;break}if(p){if(!xt(t,function(e,t){if(!Zt(p,t)&&(m===e||i(m,e,r,n,u)))return p.push(t)})){R=!1;break}}else if(m!==h&&!i(m,h,r,n,u)){R=!1;break}}return u.delete(e),u.delete(t),R}function ei(e){return Ai(Ci(e,o,ji),e+"")}function ti(e){return En(e,ba,fi)}function ri(e){return En(e,Pa,ci)}var ni=Ir?function(e){return Ir.get(e)}:al;function oi(e){for(var t=e.name+"",r=Nr[t],n=we.call(Nr,t)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==e)return o.name}return t}function ii(e){return(we.call(kr,"placeholder")?kr:e).placeholder}function ui(){var e=kr.iteratee||nl;return e=e===nl?wn:e,arguments.length?e(arguments[0],arguments[1]):e}function ai(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function li(e){for(var t=ba(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Ei(o)]}return t}function si(e,t){var r=function(e,t){return null==e?o:e[t]}(e,t);return Mn(r)?r:o}var fi=mt?function(e){return null==e?[]:(e=Ce(e),Nt(mt(e),function(t){return $e.call(e,t)}))}:pl,ci=mt?function(e){for(var t=[];e;)Mt(t,fi(e)),e=je(e);return t}:pl,_i=Sn;function Ri(e,t,r){for(var n=-1,o=(t=ho(t,e)).length,i=!1;++n<o;){var u=Fi(t[n]);if(!(i=null!=e&&r(e,u)))break;e=e[u]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&Ju(o)&&hi(u,o)&&(Ku(e)||Wu(e))}function pi(e){return"function"!=typeof e.constructor||vi(e)?{}:Yr(je(e))}function mi(e){return Ku(e)||Wu(e)||!!(He&&e&&e[He])}function hi(e,t){var r=typeof e;return!!(t=null==t?c:t)&&("number"==r||"symbol"!=r&&Te.test(e))&&e>-1&&e%1==0&&e<t}function Ti(e,t,r){if(!Qu(r))return!1;var n=typeof t;return!!("number"==n?zu(r)&&hi(t,r.length):"string"==n&&t in r)&&Gu(r[t],e)}function gi(e,t){if(Ku(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!aa(e))||Q.test(e)||!J.test(e)||null!=t&&e in Ce(t)}function di(e){var t=oi(e),r=kr[t];if("function"!=typeof r||!(t in Br.prototype))return!1;if(e===r)return!0;var n=ni(r);return!!n&&e===n[0]}(vr&&_i(new vr(new ArrayBuffer(1)))!=M||Er&&_i(new Er)!=E||Sr&&_i(Sr.resolve())!=O||Cr&&_i(new Cr)!=I||Or&&_i(new Or)!=b)&&(_i=function(e){var t=Sn(e),r=t==C?e.constructor:o,n=r?ki(r):"";if(n)switch(n){case Ar:return M;case br:return E;case Pr:return O;case Mr:return I;case wr:return b}return t});var yi=Pe?qu:ml;function vi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||be)}function Ei(e){return e==e&&!Qu(e)}function Si(e,t){return function(r){return null!=r&&r[e]===t&&(t!==o||e in Ce(r))}}function Ci(e,t,r){return t=mr(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,u=mr(o.length-t,0),a=n(u);++i<u;)a[i]=o[t+i];i=-1;for(var l=n(t+1);++i<t;)l[i]=o[i];return l[t]=r(a),St(e,this,l)}}function Oi(e,t){return t.length<2?e:vn(e,eo(t,0,-1))}function Ui(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ii=Pi(Zn),Ni=ft||function(e,t){return ct.setTimeout(e,t)},Ai=Pi(Jn);function bi(e,t,r){var n=t+"";return Ai(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ot(p,function(r){var n="_."+r[0];t&r[1]&&!At(e,n)&&e.push(n)}),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ae):[]}(n),r)))}function Pi(e){var t=0,r=0;return function(){var n=Tr(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Mi(e,t){var r=-1,n=e.length,i=n-1;for(t=t===o?n:t;++r<t;){var u=zn(r,i),a=e[u];e[u]=e[r],e[r]=a}return e.length=t,e}var wi,Di,xi=(wi=wu(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,function(e,r,n,o){t.push(n?o.replace(fe,"$1"):r||e)}),t},function(e){return 500===Di.size&&Di.clear(),e}),Di=wi.cache,wi);function Fi(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ki(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Yi(e){if(e instanceof Br)return e.clone();var t=new Lr(e.__wrapped__,e.__chain__);return t.__actions__=Io(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Gi=Vn(function(e,t){return $u(e)?sn(e,mn(t,1,$u,!0)):[]}),Li=Vn(function(e,t){var r=Xi(t);return $u(r)&&(r=o),$u(e)?sn(e,mn(t,1,$u,!0),ui(r,2)):[]}),Bi=Vn(function(e,t){var r=Xi(t);return $u(r)&&(r=o),$u(e)?sn(e,mn(t,1,$u,!0),o,r):[]});function Wi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:Ra(r);return o<0&&(o=mr(n+o,0)),Yt(e,ui(t,3),o)}function Ki(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==o&&(i=Ra(r),i=r<0?mr(n+i,0):hr(i,n-1)),Yt(e,ui(t,3),i,!0)}function ji(e){return null!=e&&e.length?mn(e,1):[]}function zi(e){return e&&e.length?e[0]:o}var $i=Vn(function(e){var t=Pt(e,po);return t.length&&t[0]===e[0]?In(t):[]}),Vi=Vn(function(e){var t=Xi(e),r=Pt(e,po);return t===Xi(r)?t=o:r.pop(),r.length&&r[0]===e[0]?In(r,ui(t,2)):[]}),Hi=Vn(function(e){var t=Xi(e),r=Pt(e,po);return(t="function"==typeof t?t:o)&&r.pop(),r.length&&r[0]===e[0]?In(r,o,t):[]});function Xi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var qi=Vn(Zi);function Zi(e,t){return e&&e.length&&t&&t.length?Kn(e,t):e}var Ji=ei(function(e,t){var r=null==e?0:e.length,n=nn(e,t);return jn(e,Pt(t,function(e){return hi(e,r)?+e:e}).sort(Co)),n});function Qi(e){return null==e?e:yr.call(e)}var eu=Vn(function(e){return ao(mn(e,1,$u,!0))}),tu=Vn(function(e){var t=Xi(e);return $u(t)&&(t=o),ao(mn(e,1,$u,!0),ui(t,2))}),ru=Vn(function(e){var t=Xi(e);return t="function"==typeof t?t:o,ao(mn(e,1,$u,!0),o,t)});function nu(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,function(e){if($u(e))return t=mr(e.length,t),!0}),Vt(t,function(t){return Pt(e,Kt(t))})}function ou(e,t){if(!e||!e.length)return[];var r=nu(e);return null==t?r:Pt(r,function(e){return St(t,o,e)})}var iu=Vn(function(e,t){return $u(e)?sn(e,t):[]}),uu=Vn(function(e){return _o(Nt(e,$u))}),au=Vn(function(e){var t=Xi(e);return $u(t)&&(t=o),_o(Nt(e,$u),ui(t,2))}),lu=Vn(function(e){var t=Xi(e);return t="function"==typeof t?t:o,_o(Nt(e,$u),o,t)}),su=Vn(nu),fu=Vn(function(e){var t=e.length,r=t>1?e[t-1]:o;return r="function"==typeof r?(e.pop(),r):o,ou(e,r)});function cu(e){var t=kr(e);return t.__chain__=!0,t}function _u(e,t){return t(e)}var Ru=ei(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return nn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Br&&hi(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:_u,args:[i],thisArg:o}),new Lr(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)}),pu=Ao(function(e,t,r){we.call(e,r)?++e[r]:rn(e,r,1)}),mu=Fo(Wi),hu=Fo(Ki);function Tu(e,t){return(Ku(e)?Ot:fn)(e,ui(t,3))}function gu(e,t){return(Ku(e)?Ut:cn)(e,ui(t,3))}var du=Ao(function(e,t,r){we.call(e,r)?e[r].push(t):rn(e,r,[t])}),yu=Vn(function(e,t,r){var o=-1,i="function"==typeof t,u=zu(e)?n(e.length):[];return fn(e,function(e){u[++o]=i?St(t,e,r):Nn(e,t,r)}),u}),vu=Ao(function(e,t,r){rn(e,r,t)});function Eu(e,t){return(Ku(e)?Pt:Fn)(e,ui(t,3))}var Su=Ao(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),Cu=Vn(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Ti(e,t[0],t[1])?t=[]:r>2&&Ti(t[0],t[1],t[2])&&(t=[t[0]]),Bn(e,mn(t,1),[])}),Ou=st||function(){return ct.Date.now()};function Uu(e,t,r){return t=r?o:t,t=e&&null==t?e.length:t,Xo(e,s,o,o,o,o,t)}function Iu(e,t){var r;if("function"!=typeof t)throw new Ie(i);return e=Ra(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var Nu=Vn(function(e,t,r){var n=1;if(r.length){var o=ur(r,ii(Nu));n|=l}return Xo(e,n,t,r,o)}),Au=Vn(function(e,t,r){var n=3;if(r.length){var o=ur(r,ii(Au));n|=l}return Xo(t,n,e,r,o)});function bu(e,t,r){var n,u,a,l,s,f,c=0,_=!1,R=!1,p=!0;if("function"!=typeof e)throw new Ie(i);function m(t){var r=n,i=u;return n=u=o,c=t,l=e.apply(i,r)}function h(e){var r=e-f;return f===o||r>=t||r<0||R&&e-c>=a}function T(){var e=Ou();if(h(e))return g(e);s=Ni(T,function(e){var r=t-(e-f);return R?hr(r,a-(e-c)):r}(e))}function g(e){return s=o,p&&n?m(e):(n=u=o,l)}function d(){var e=Ou(),r=h(e);if(n=arguments,u=this,f=e,r){if(s===o)return function(e){return c=e,s=Ni(T,t),_?m(e):l}(f);if(R)return yo(s),s=Ni(T,t),m(f)}return s===o&&(s=Ni(T,t)),l}return t=ma(t)||0,Qu(r)&&(_=!!r.leading,a=(R="maxWait"in r)?mr(ma(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),d.cancel=function(){s!==o&&yo(s),c=0,n=f=u=s=o},d.flush=function(){return s===o?l:g(Ou())},d}var Pu=Vn(function(e,t){return ln(e,1,t)}),Mu=Vn(function(e,t,r){return ln(e,ma(t)||0,r)});function wu(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(i);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=e.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(wu.Cache||jr),r}function Du(e){if("function"!=typeof e)throw new Ie(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}wu.Cache=jr;var xu=To(function(e,t){var r=(t=1==t.length&&Ku(t[0])?Pt(t[0],Xt(ui())):Pt(mn(t,1),Xt(ui()))).length;return Vn(function(n){for(var o=-1,i=hr(n.length,r);++o<i;)n[o]=t[o].call(this,n[o]);return St(e,this,n)})}),Fu=Vn(function(e,t){var r=ur(t,ii(Fu));return Xo(e,l,o,t,r)}),ku=Vn(function(e,t){var r=ur(t,ii(ku));return Xo(e,64,o,t,r)}),Yu=ei(function(e,t){return Xo(e,256,o,o,o,t)});function Gu(e,t){return e===t||e!=e&&t!=t}var Lu=jo(Cn),Bu=jo(function(e,t){return e>=t}),Wu=An(function(){return arguments}())?An:function(e){return ea(e)&&we.call(e,"callee")&&!$e.call(e,"callee")},Ku=n.isArray,ju=Tt?Xt(Tt):function(e){return ea(e)&&Sn(e)==P};function zu(e){return null!=e&&Ju(e.length)&&!qu(e)}function $u(e){return ea(e)&&zu(e)}var Vu=ht||ml,Hu=gt?Xt(gt):function(e){return ea(e)&&Sn(e)==g};function Xu(e){if(!ea(e))return!1;var t=Sn(e);return t==d||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!na(e)}function qu(e){if(!Qu(e))return!1;var t=Sn(e);return t==y||t==v||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zu(e){return"number"==typeof e&&e==Ra(e)}function Ju(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function Qu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=dt?Xt(dt):function(e){return ea(e)&&_i(e)==E};function ra(e){return"number"==typeof e||ea(e)&&Sn(e)==S}function na(e){if(!ea(e)||Sn(e)!=C)return!1;var t=je(e);if(null===t)return!0;var r=we.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Me.call(r)==ke}var oa=yt?Xt(yt):function(e){return ea(e)&&Sn(e)==U},ia=vt?Xt(vt):function(e){return ea(e)&&_i(e)==I};function ua(e){return"string"==typeof e||!Ku(e)&&ea(e)&&Sn(e)==N}function aa(e){return"symbol"==typeof e||ea(e)&&Sn(e)==A}var la=Et?Xt(Et):function(e){return ea(e)&&Ju(e.length)&&!!ot[Sn(e)]},sa=jo(xn),fa=jo(function(e,t){return e<=t});function ca(e){if(!e)return[];if(zu(e))return ua(e)?fr(e):Io(e);if(Xe&&e[Xe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Xe]());var t=_i(e);return(t==E?or:t==I?ar:Ga)(e)}function _a(e){return e?(e=ma(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function Ra(e){var t=_a(e),r=t%1;return t==t?r?t-r:t:0}function pa(e){return e?on(Ra(e),0,R):0}function ma(e){if("number"==typeof e)return e;if(aa(e))return _;if(Qu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Qu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ht(e);var r=pe.test(e);return r||he.test(e)?lt(e.slice(2),r?2:8):Re.test(e)?_:+e}function ha(e){return No(e,Pa(e))}function Ta(e){return null==e?"":uo(e)}var ga=bo(function(e,t){if(vi(t)||zu(t))No(t,ba(t),e);else for(var r in t)we.call(t,r)&&Jr(e,r,t[r])}),da=bo(function(e,t){No(t,Pa(t),e)}),ya=bo(function(e,t,r,n){No(t,Pa(t),e,n)}),va=bo(function(e,t,r,n){No(t,ba(t),e,n)}),Ea=ei(nn),Sa=Vn(function(e,t){e=Ce(e);var r=-1,n=t.length,i=n>2?t[2]:o;for(i&&Ti(t[0],t[1],i)&&(n=1);++r<n;)for(var u=t[r],a=Pa(u),l=-1,s=a.length;++l<s;){var f=a[l],c=e[f];(c===o||Gu(c,be[f])&&!we.call(e,f))&&(e[f]=u[f])}return e}),Ca=Vn(function(e){return e.push(o,Zo),St(wa,o,e)});function Oa(e,t,r){var n=null==e?o:vn(e,t);return n===o?r:n}function Ua(e,t){return null!=e&&Ri(e,t,Un)}var Ia=Go(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r},Qa(rl)),Na=Go(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),we.call(e,t)?e[t].push(r):e[t]=[r]},ui),Aa=Vn(Nn);function ba(e){return zu(e)?Vr(e):Dn(e)}function Pa(e){return zu(e)?Vr(e,!0):function(e){if(!Qu(e))return function(e){var t=[];if(null!=e)for(var r in Ce(e))t.push(r);return t}(e);var t=vi(e),r=[];for(var n in e)("constructor"!=n||!t&&we.call(e,n))&&r.push(n);return r}(e)}var Ma=bo(function(e,t,r){Gn(e,t,r)}),wa=bo(function(e,t,r,n){Gn(e,t,r,n)}),Da=ei(function(e,t){var r={};if(null==e)return r;var n=!1;t=Pt(t,function(t){return t=ho(t,e),n||(n=t.length>1),t}),No(e,ri(e),r),n&&(r=un(r,7,Jo));for(var o=t.length;o--;)lo(r,t[o]);return r}),xa=ei(function(e,t){return null==e?{}:function(e,t){return Wn(e,t,function(t,r){return Ua(e,r)})}(e,t)});function Fa(e,t){if(null==e)return{};var r=Pt(ri(e),function(e){return[e]});return t=ui(t),Wn(e,r,function(e,r){return t(e,r[0])})}var ka=Ho(ba),Ya=Ho(Pa);function Ga(e){return null==e?[]:qt(e,ba(e))}var La=Do(function(e,t,r){return t=t.toLowerCase(),e+(r?Ba(t):t)});function Ba(e){return Xa(Ta(e).toLowerCase())}function Wa(e){return(e=Ta(e))&&e.replace(ge,er).replace(Ze,"")}var Ka=Do(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),ja=Do(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),za=wo("toLowerCase"),$a=Do(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),Va=Do(function(e,t,r){return e+(r?" ":"")+Xa(t)}),Ha=Do(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),Xa=wo("toUpperCase");function qa(e,t,r){return e=Ta(e),(t=r?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Za=Vn(function(e,t){try{return St(e,o,t)}catch(e){return Xu(e)?e:new ve(e)}}),Ja=ei(function(e,t){return Ot(t,function(t){t=Fi(t),rn(e,t,Nu(e[t],e))}),e});function Qa(e){return function(){return e}}var el=ko(),tl=ko(!0);function rl(e){return e}function nl(e){return wn("function"==typeof e?e:un(e,1))}var ol=Vn(function(e,t){return function(r){return Nn(r,e,t)}}),il=Vn(function(e,t){return function(r){return Nn(e,r,t)}});function ul(e,t,r){var n=ba(t),o=yn(t,n);null!=r||Qu(t)&&(o.length||!n.length)||(r=t,t=e,e=this,o=yn(t,ba(t)));var i=!(Qu(r)&&"chain"in r&&!r.chain),u=qu(e);return Ot(o,function(r){var n=t[r];e[r]=n,u&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__);return(r.__actions__=Io(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Mt([this.value()],arguments))})}),e}function al(){}var ll=Bo(Pt),sl=Bo(It),fl=Bo(xt);function cl(e){return gi(e)?Kt(Fi(e)):function(e){return function(t){return vn(t,e)}}(e)}var _l=Ko(),Rl=Ko(!0);function pl(){return[]}function ml(){return!1}var hl,Tl=Lo(function(e,t){return e+t},0),gl=$o("ceil"),dl=Lo(function(e,t){return e/t},1),yl=$o("floor"),vl=Lo(function(e,t){return e*t},1),El=$o("round"),Sl=Lo(function(e,t){return e-t},0);return kr.after=function(e,t){if("function"!=typeof t)throw new Ie(i);return e=Ra(e),function(){if(--e<1)return t.apply(this,arguments)}},kr.ary=Uu,kr.assign=ga,kr.assignIn=da,kr.assignInWith=ya,kr.assignWith=va,kr.at=Ea,kr.before=Iu,kr.bind=Nu,kr.bindAll=Ja,kr.bindKey=Au,kr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ku(e)?e:[e]},kr.chain=cu,kr.chunk=function(e,t,r){t=(r?Ti(e,t,r):t===o)?1:mr(Ra(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var u=0,a=0,l=n(_t(i/t));u<i;)l[a++]=eo(e,u,u+=t);return l},kr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,o=[];++t<r;){var i=e[t];i&&(o[n++]=i)}return o},kr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Mt(Ku(r)?Io(r):[r],mn(t,1))},kr.cond=function(e){var t=null==e?0:e.length,r=ui();return e=t?Pt(e,function(e){if("function"!=typeof e[1])throw new Ie(i);return[r(e[0]),e[1]]}):[],Vn(function(r){for(var n=-1;++n<t;){var o=e[n];if(St(o[0],this,r))return St(o[1],this,r)}})},kr.conforms=function(e){return function(e){var t=ba(e);return function(r){return an(r,e,t)}}(un(e,1))},kr.constant=Qa,kr.countBy=pu,kr.create=function(e,t){var r=Yr(e);return null==t?r:tn(r,t)},kr.curry=function e(t,r,n){var i=Xo(t,8,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},kr.curryRight=function e(t,r,n){var i=Xo(t,16,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},kr.debounce=bu,kr.defaults=Sa,kr.defaultsDeep=Ca,kr.defer=Pu,kr.delay=Mu,kr.difference=Gi,kr.differenceBy=Li,kr.differenceWith=Bi,kr.drop=function(e,t,r){var n=null==e?0:e.length;return n?eo(e,(t=r||t===o?1:Ra(t))<0?0:t,n):[]},kr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?eo(e,0,(t=n-(t=r||t===o?1:Ra(t)))<0?0:t):[]},kr.dropRightWhile=function(e,t){return e&&e.length?fo(e,ui(t,3),!0,!0):[]},kr.dropWhile=function(e,t){return e&&e.length?fo(e,ui(t,3),!0):[]},kr.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Ti(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=Ra(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:Ra(n))<0&&(n+=i),n=r>n?0:pa(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},kr.filter=function(e,t){return(Ku(e)?Nt:pn)(e,ui(t,3))},kr.flatMap=function(e,t){return mn(Eu(e,t),1)},kr.flatMapDeep=function(e,t){return mn(Eu(e,t),f)},kr.flatMapDepth=function(e,t,r){return r=r===o?1:Ra(r),mn(Eu(e,t),r)},kr.flatten=ji,kr.flattenDeep=function(e){return null!=e&&e.length?mn(e,f):[]},kr.flattenDepth=function(e,t){return null!=e&&e.length?mn(e,t=t===o?1:Ra(t)):[]},kr.flip=function(e){return Xo(e,512)},kr.flow=el,kr.flowRight=tl,kr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var o=e[t];n[o[0]]=o[1]}return n},kr.functions=function(e){return null==e?[]:yn(e,ba(e))},kr.functionsIn=function(e){return null==e?[]:yn(e,Pa(e))},kr.groupBy=du,kr.initial=function(e){return null!=e&&e.length?eo(e,0,-1):[]},kr.intersection=$i,kr.intersectionBy=Vi,kr.intersectionWith=Hi,kr.invert=Ia,kr.invertBy=Na,kr.invokeMap=yu,kr.iteratee=nl,kr.keyBy=vu,kr.keys=ba,kr.keysIn=Pa,kr.map=Eu,kr.mapKeys=function(e,t){var r={};return t=ui(t,3),gn(e,function(e,n,o){rn(r,t(e,n,o),e)}),r},kr.mapValues=function(e,t){var r={};return t=ui(t,3),gn(e,function(e,n,o){rn(r,n,t(e,n,o))}),r},kr.matches=function(e){return kn(un(e,1))},kr.matchesProperty=function(e,t){return Yn(e,un(t,1))},kr.memoize=wu,kr.merge=Ma,kr.mergeWith=wa,kr.method=ol,kr.methodOf=il,kr.mixin=ul,kr.negate=Du,kr.nthArg=function(e){return e=Ra(e),Vn(function(t){return Ln(t,e)})},kr.omit=Da,kr.omitBy=function(e,t){return Fa(e,Du(ui(t)))},kr.once=function(e){return Iu(2,e)},kr.orderBy=function(e,t,r,n){return null==e?[]:(Ku(t)||(t=null==t?[]:[t]),Ku(r=n?o:r)||(r=null==r?[]:[r]),Bn(e,t,r))},kr.over=ll,kr.overArgs=xu,kr.overEvery=sl,kr.overSome=fl,kr.partial=Fu,kr.partialRight=ku,kr.partition=Su,kr.pick=xa,kr.pickBy=Fa,kr.property=cl,kr.propertyOf=function(e){return function(t){return null==e?o:vn(e,t)}},kr.pull=qi,kr.pullAll=Zi,kr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Kn(e,t,ui(r,2)):e},kr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Kn(e,t,o,r):e},kr.pullAt=Ji,kr.range=_l,kr.rangeRight=Rl,kr.rearg=Yu,kr.reject=function(e,t){return(Ku(e)?Nt:pn)(e,Du(ui(t,3)))},kr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,o=[],i=e.length;for(t=ui(t,3);++n<i;){var u=e[n];t(u,n,e)&&(r.push(u),o.push(n))}return jn(e,o),r},kr.rest=function(e,t){if("function"!=typeof e)throw new Ie(i);return Vn(e,t=t===o?t:Ra(t))},kr.reverse=Qi,kr.sampleSize=function(e,t,r){return t=(r?Ti(e,t,r):t===o)?1:Ra(t),(Ku(e)?Xr:Xn)(e,t)},kr.set=function(e,t,r){return null==e?e:qn(e,t,r)},kr.setWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:qn(e,t,r,n)},kr.shuffle=function(e){return(Ku(e)?qr:Qn)(e)},kr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&Ti(e,t,r)?(t=0,r=n):(t=null==t?0:Ra(t),r=r===o?n:Ra(r)),eo(e,t,r)):[]},kr.sortBy=Cu,kr.sortedUniq=function(e){return e&&e.length?oo(e):[]},kr.sortedUniqBy=function(e,t){return e&&e.length?oo(e,ui(t,2)):[]},kr.split=function(e,t,r){return r&&"number"!=typeof r&&Ti(e,t,r)&&(t=r=o),(r=r===o?R:r>>>0)?(e=Ta(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=uo(t))&&nr(e)?go(fr(e),0,r):e.split(t,r):[]},kr.spread=function(e,t){if("function"!=typeof e)throw new Ie(i);return t=null==t?0:mr(Ra(t),0),Vn(function(r){var n=r[t],o=go(r,0,t);return n&&Mt(o,n),St(e,this,o)})},kr.tail=function(e){var t=null==e?0:e.length;return t?eo(e,1,t):[]},kr.take=function(e,t,r){return e&&e.length?eo(e,0,(t=r||t===o?1:Ra(t))<0?0:t):[]},kr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?eo(e,(t=n-(t=r||t===o?1:Ra(t)))<0?0:t,n):[]},kr.takeRightWhile=function(e,t){return e&&e.length?fo(e,ui(t,3),!1,!0):[]},kr.takeWhile=function(e,t){return e&&e.length?fo(e,ui(t,3)):[]},kr.tap=function(e,t){return t(e),e},kr.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new Ie(i);return Qu(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),bu(e,t,{leading:n,maxWait:t,trailing:o})},kr.thru=_u,kr.toArray=ca,kr.toPairs=ka,kr.toPairsIn=Ya,kr.toPath=function(e){return Ku(e)?Pt(e,Fi):aa(e)?[e]:Io(xi(Ta(e)))},kr.toPlainObject=ha,kr.transform=function(e,t,r){var n=Ku(e),o=n||Vu(e)||la(e);if(t=ui(t,4),null==r){var i=e&&e.constructor;r=o?n?new i:[]:Qu(e)&&qu(i)?Yr(je(e)):{}}return(o?Ot:gn)(e,function(e,n,o){return t(r,e,n,o)}),r},kr.unary=function(e){return Uu(e,1)},kr.union=eu,kr.unionBy=tu,kr.unionWith=ru,kr.uniq=function(e){return e&&e.length?ao(e):[]},kr.uniqBy=function(e,t){return e&&e.length?ao(e,ui(t,2)):[]},kr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ao(e,o,t):[]},kr.unset=function(e,t){return null==e||lo(e,t)},kr.unzip=nu,kr.unzipWith=ou,kr.update=function(e,t,r){return null==e?e:so(e,t,mo(r))},kr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:so(e,t,mo(r),n)},kr.values=Ga,kr.valuesIn=function(e){return null==e?[]:qt(e,Pa(e))},kr.without=iu,kr.words=qa,kr.wrap=function(e,t){return Fu(mo(t),e)},kr.xor=uu,kr.xorBy=au,kr.xorWith=lu,kr.zip=su,kr.zipObject=function(e,t){return Ro(e||[],t||[],Jr)},kr.zipObjectDeep=function(e,t){return Ro(e||[],t||[],qn)},kr.zipWith=fu,kr.entries=ka,kr.entriesIn=Ya,kr.extend=da,kr.extendWith=ya,ul(kr,kr),kr.add=Tl,kr.attempt=Za,kr.camelCase=La,kr.capitalize=Ba,kr.ceil=gl,kr.clamp=function(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=(r=ma(r))==r?r:0),t!==o&&(t=(t=ma(t))==t?t:0),on(ma(e),t,r)},kr.clone=function(e){return un(e,4)},kr.cloneDeep=function(e){return un(e,5)},kr.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:o)},kr.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:o)},kr.conformsTo=function(e,t){return null==t||an(e,t,ba(t))},kr.deburr=Wa,kr.defaultTo=function(e,t){return null==e||e!=e?t:e},kr.divide=dl,kr.endsWith=function(e,t,r){e=Ta(e),t=uo(t);var n=e.length,i=r=r===o?n:on(Ra(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},kr.eq=Gu,kr.escape=function(e){return(e=Ta(e))&&H.test(e)?e.replace($,tr):e},kr.escapeRegExp=function(e){return(e=Ta(e))&&re.test(e)?e.replace(te,"\\$&"):e},kr.every=function(e,t,r){var n=Ku(e)?It:_n;return r&&Ti(e,t,r)&&(t=o),n(e,ui(t,3))},kr.find=mu,kr.findIndex=Wi,kr.findKey=function(e,t){return kt(e,ui(t,3),gn)},kr.findLast=hu,kr.findLastIndex=Ki,kr.findLastKey=function(e,t){return kt(e,ui(t,3),dn)},kr.floor=yl,kr.forEach=Tu,kr.forEachRight=gu,kr.forIn=function(e,t){return null==e?e:hn(e,ui(t,3),Pa)},kr.forInRight=function(e,t){return null==e?e:Tn(e,ui(t,3),Pa)},kr.forOwn=function(e,t){return e&&gn(e,ui(t,3))},kr.forOwnRight=function(e,t){return e&&dn(e,ui(t,3))},kr.get=Oa,kr.gt=Lu,kr.gte=Bu,kr.has=function(e,t){return null!=e&&Ri(e,t,On)},kr.hasIn=Ua,kr.head=zi,kr.identity=rl,kr.includes=function(e,t,r,n){e=zu(e)?e:Ga(e),r=r&&!n?Ra(r):0;var o=e.length;return r<0&&(r=mr(o+r,0)),ua(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&Gt(e,t,r)>-1},kr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:Ra(r);return o<0&&(o=mr(n+o,0)),Gt(e,t,o)},kr.inRange=function(e,t,r){return t=_a(t),r===o?(r=t,t=0):r=_a(r),function(e,t,r){return e>=hr(t,r)&&e<mr(t,r)}(e=ma(e),t,r)},kr.invoke=Aa,kr.isArguments=Wu,kr.isArray=Ku,kr.isArrayBuffer=ju,kr.isArrayLike=zu,kr.isArrayLikeObject=$u,kr.isBoolean=function(e){return!0===e||!1===e||ea(e)&&Sn(e)==T},kr.isBuffer=Vu,kr.isDate=Hu,kr.isElement=function(e){return ea(e)&&1===e.nodeType&&!na(e)},kr.isEmpty=function(e){if(null==e)return!0;if(zu(e)&&(Ku(e)||"string"==typeof e||"function"==typeof e.splice||Vu(e)||la(e)||Wu(e)))return!e.length;var t=_i(e);if(t==E||t==I)return!e.size;if(vi(e))return!Dn(e).length;for(var r in e)if(we.call(e,r))return!1;return!0},kr.isEqual=function(e,t){return bn(e,t)},kr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:o)?r(e,t):o;return n===o?bn(e,t,o,r):!!n},kr.isError=Xu,kr.isFinite=function(e){return"number"==typeof e&&Ft(e)},kr.isFunction=qu,kr.isInteger=Zu,kr.isLength=Ju,kr.isMap=ta,kr.isMatch=function(e,t){return e===t||Pn(e,t,li(t))},kr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:o,Pn(e,t,li(t),r)},kr.isNaN=function(e){return ra(e)&&e!=+e},kr.isNative=function(e){if(yi(e))throw new ve("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mn(e)},kr.isNil=function(e){return null==e},kr.isNull=function(e){return null===e},kr.isNumber=ra,kr.isObject=Qu,kr.isObjectLike=ea,kr.isPlainObject=na,kr.isRegExp=oa,kr.isSafeInteger=function(e){return Zu(e)&&e>=-9007199254740991&&e<=c},kr.isSet=ia,kr.isString=ua,kr.isSymbol=aa,kr.isTypedArray=la,kr.isUndefined=function(e){return e===o},kr.isWeakMap=function(e){return ea(e)&&_i(e)==b},kr.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==Sn(e)},kr.join=function(e,t){return null==e?"":jt.call(e,t)},kr.kebabCase=Ka,kr.last=Xi,kr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=Ra(r))<0?mr(n+i,0):hr(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):Yt(e,Bt,i,!0)},kr.lowerCase=ja,kr.lowerFirst=za,kr.lt=sa,kr.lte=fa,kr.max=function(e){return e&&e.length?Rn(e,rl,Cn):o},kr.maxBy=function(e,t){return e&&e.length?Rn(e,ui(t,2),Cn):o},kr.mean=function(e){return Wt(e,rl)},kr.meanBy=function(e,t){return Wt(e,ui(t,2))},kr.min=function(e){return e&&e.length?Rn(e,rl,xn):o},kr.minBy=function(e,t){return e&&e.length?Rn(e,ui(t,2),xn):o},kr.stubArray=pl,kr.stubFalse=ml,kr.stubObject=function(){return{}},kr.stubString=function(){return""},kr.stubTrue=function(){return!0},kr.multiply=vl,kr.nth=function(e,t){return e&&e.length?Ln(e,Ra(t)):o},kr.noConflict=function(){return ct._===this&&(ct._=Ye),this},kr.noop=al,kr.now=Ou,kr.pad=function(e,t,r){e=Ta(e);var n=(t=Ra(t))?sr(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return Wo(Rt(o),r)+e+Wo(_t(o),r)},kr.padEnd=function(e,t,r){e=Ta(e);var n=(t=Ra(t))?sr(e):0;return t&&n<t?e+Wo(t-n,r):e},kr.padStart=function(e,t,r){e=Ta(e);var n=(t=Ra(t))?sr(e):0;return t&&n<t?Wo(t-n,r)+e:e},kr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),gr(Ta(e).replace(ne,""),t||0)},kr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Ti(e,t,r)&&(t=r=o),r===o&&("boolean"==typeof t?(r=t,t=o):"boolean"==typeof e&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=_a(e),t===o?(t=e,e=0):t=_a(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=dr();return hr(e+i*(t-e+at("1e-"+((i+"").length-1))),t)}return zn(e,t)},kr.reduce=function(e,t,r){var n=Ku(e)?wt:zt,o=arguments.length<3;return n(e,ui(t,4),r,o,fn)},kr.reduceRight=function(e,t,r){var n=Ku(e)?Dt:zt,o=arguments.length<3;return n(e,ui(t,4),r,o,cn)},kr.repeat=function(e,t,r){return t=(r?Ti(e,t,r):t===o)?1:Ra(t),$n(Ta(e),t)},kr.replace=function(){var e=arguments,t=Ta(e[0]);return e.length<3?t:t.replace(e[1],e[2])},kr.result=function(e,t,r){var n=-1,i=(t=ho(t,e)).length;for(i||(i=1,e=o);++n<i;){var u=null==e?o:e[Fi(t[n])];u===o&&(n=i,u=r),e=qu(u)?u.call(e):u}return e},kr.round=El,kr.runInContext=e,kr.sample=function(e){return(Ku(e)?Hr:Hn)(e)},kr.size=function(e){if(null==e)return 0;if(zu(e))return ua(e)?sr(e):e.length;var t=_i(e);return t==E||t==I?e.size:Dn(e).length},kr.snakeCase=$a,kr.some=function(e,t,r){var n=Ku(e)?xt:to;return r&&Ti(e,t,r)&&(t=o),n(e,ui(t,3))},kr.sortedIndex=function(e,t){return ro(e,t)},kr.sortedIndexBy=function(e,t,r){return no(e,t,ui(r,2))},kr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ro(e,t);if(n<r&&Gu(e[n],t))return n}return-1},kr.sortedLastIndex=function(e,t){return ro(e,t,!0)},kr.sortedLastIndexBy=function(e,t,r){return no(e,t,ui(r,2),!0)},kr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ro(e,t,!0)-1;if(Gu(e[r],t))return r}return-1},kr.startCase=Va,kr.startsWith=function(e,t,r){return e=Ta(e),r=null==r?0:on(Ra(r),0,e.length),t=uo(t),e.slice(r,r+t.length)==t},kr.subtract=Sl,kr.sum=function(e){return e&&e.length?$t(e,rl):0},kr.sumBy=function(e,t){return e&&e.length?$t(e,ui(t,2)):0},kr.template=function(e,t,r){var n=kr.templateSettings;r&&Ti(e,t,r)&&(t=o),e=Ta(e),t=ya({},t,n,qo);var i,u,a=ya({},t.imports,n.imports,qo),l=ba(a),s=qt(a,l),f=0,c=t.interpolate||de,_="__p += '",R=Oe((t.escape||de).source+"|"+c.source+"|"+(c===Z?ce:de).source+"|"+(t.evaluate||de).source+"|$","g"),p="//# sourceURL="+(we.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";e.replace(R,function(t,r,n,o,a,l){return n||(n=o),_+=e.slice(f,l).replace(ye,rr),r&&(i=!0,_+="' +\n__e("+r+") +\n'"),a&&(u=!0,_+="';\n"+a+";\n__p += '"),n&&(_+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=l+t.length,t}),_+="';\n";var m=we.call(t,"variable")&&t.variable;if(m){if(se.test(m))throw new ve("Invalid `variable` option passed into `_.template`")}else _="with (obj) {\n"+_+"\n}\n";_=(u?_.replace(W,""):_).replace(K,"$1").replace(j,"$1;"),_="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+_+"return __p\n}";var h=Za(function(){return Ee(l,p+"return "+_).apply(o,s)});if(h.source=_,Xu(h))throw h;return h},kr.times=function(e,t){if((e=Ra(e))<1||e>c)return[];var r=R,n=hr(e,R);t=ui(t),e-=R;for(var o=Vt(n,t);++r<e;)t(r);return o},kr.toFinite=_a,kr.toInteger=Ra,kr.toLength=pa,kr.toLower=function(e){return Ta(e).toLowerCase()},kr.toNumber=ma,kr.toSafeInteger=function(e){return e?on(Ra(e),-9007199254740991,c):0===e?e:0},kr.toString=Ta,kr.toUpper=function(e){return Ta(e).toUpperCase()},kr.trim=function(e,t,r){if((e=Ta(e))&&(r||t===o))return Ht(e);if(!e||!(t=uo(t)))return e;var n=fr(e),i=fr(t);return go(n,Jt(n,i),Qt(n,i)+1).join("")},kr.trimEnd=function(e,t,r){if((e=Ta(e))&&(r||t===o))return e.slice(0,cr(e)+1);if(!e||!(t=uo(t)))return e;var n=fr(e);return go(n,0,Qt(n,fr(t))+1).join("")},kr.trimStart=function(e,t,r){if((e=Ta(e))&&(r||t===o))return e.replace(ne,"");if(!e||!(t=uo(t)))return e;var n=fr(e);return go(n,Jt(n,fr(t))).join("")},kr.truncate=function(e,t){var r=30,n="...";if(Qu(t)){var i="separator"in t?t.separator:i;r="length"in t?Ra(t.length):r,n="omission"in t?uo(t.omission):n}var u=(e=Ta(e)).length;if(nr(e)){var a=fr(e);u=a.length}if(r>=u)return e;var l=r-sr(n);if(l<1)return n;var s=a?go(a,0,l).join(""):e.slice(0,l);if(i===o)return s+n;if(a&&(l+=s.length-l),oa(i)){if(e.slice(l).search(i)){var f,c=s;for(i.global||(i=Oe(i.source,Ta(_e.exec(i))+"g")),i.lastIndex=0;f=i.exec(c);)var _=f.index;s=s.slice(0,_===o?l:_)}}else if(e.indexOf(uo(i),l)!=l){var R=s.lastIndexOf(i);R>-1&&(s=s.slice(0,R))}return s+n},kr.unescape=function(e){return(e=Ta(e))&&V.test(e)?e.replace(z,_r):e},kr.uniqueId=function(e){var t=++De;return Ta(e)+t},kr.upperCase=Ha,kr.upperFirst=Xa,kr.each=Tu,kr.eachRight=gu,kr.first=zi,ul(kr,(hl={},gn(kr,function(e,t){we.call(kr.prototype,t)||(hl[t]=e)}),hl),{chain:!1}),kr.VERSION="4.17.23",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){kr[e].placeholder=kr}),Ot(["drop","take"],function(e,t){Br.prototype[e]=function(r){r=r===o?1:mr(Ra(r),0);var n=this.__filtered__&&!t?new Br(this):this.clone();return n.__filtered__?n.__takeCount__=hr(r,n.__takeCount__):n.__views__.push({size:hr(r,R),type:e+(n.__dir__<0?"Right":"")}),n},Br.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Ot(["filter","map","takeWhile"],function(e,t){var r=t+1,n=1==r||3==r;Br.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ui(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),Ot(["head","last"],function(e,t){var r="take"+(t?"Right":"");Br.prototype[e]=function(){return this[r](1).value()[0]}}),Ot(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");Br.prototype[e]=function(){return this.__filtered__?new Br(this):this[r](1)}}),Br.prototype.compact=function(){return this.filter(rl)},Br.prototype.find=function(e){return this.filter(e).head()},Br.prototype.findLast=function(e){return this.reverse().find(e)},Br.prototype.invokeMap=Vn(function(e,t){return"function"==typeof e?new Br(this):this.map(function(r){return Nn(r,e,t)})}),Br.prototype.reject=function(e){return this.filter(Du(ui(e)))},Br.prototype.slice=function(e,t){e=Ra(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Br(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(r=(t=Ra(t))<0?r.dropRight(-t):r.take(t-e)),r)},Br.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Br.prototype.toArray=function(){return this.take(R)},gn(Br.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=kr[n?"take"+("last"==t?"Right":""):t],u=n||/^find/.test(t);i&&(kr.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,l=t instanceof Br,s=a[0],f=l||Ku(t),c=function(e){var t=i.apply(kr,Mt([e],a));return n&&_?t[0]:t};f&&r&&"function"==typeof s&&1!=s.length&&(l=f=!1);var _=this.__chain__,R=!!this.__actions__.length,p=u&&!_,m=l&&!R;if(!u&&f){t=m?t:new Br(this);var h=e.apply(t,a);return h.__actions__.push({func:_u,args:[c],thisArg:o}),new Lr(h,_)}return p&&m?e.apply(this,a):(h=this.thru(c),p?n?h.value()[0]:h.value():h)})}),Ot(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ne[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);kr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Ku(o)?o:[],e)}return this[r](function(r){return t.apply(Ku(r)?r:[],e)})}}),gn(Br.prototype,function(e,t){var r=kr[t];if(r){var n=r.name+"";we.call(Nr,n)||(Nr[n]=[]),Nr[n].push({name:t,func:r})}}),Nr[Yo(o,2).name]=[{name:"wrapper",func:o}],Br.prototype.clone=function(){var e=new Br(this.__wrapped__);return e.__actions__=Io(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Io(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Io(this.__views__),e},Br.prototype.reverse=function(){if(this.__filtered__){var e=new Br(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Br.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Ku(e),n=t<0,o=r?e.length:0,i=function(e,t,r){for(var n=-1,o=r.length;++n<o;){var i=r[n],u=i.size;switch(i.type){case"drop":e+=u;break;case"dropRight":t-=u;break;case"take":t=hr(t,e+u);break;case"takeRight":e=mr(e,t-u)}}return{start:e,end:t}}(0,o,this.__views__),u=i.start,a=i.end,l=a-u,s=n?a:u-1,f=this.__iteratees__,c=f.length,_=0,R=hr(l,this.__takeCount__);if(!r||!n&&o==l&&R==l)return co(e,this.__actions__);var p=[];e:for(;l--&&_<R;){for(var m=-1,h=e[s+=t];++m<c;){var T=f[m],g=T.iteratee,d=T.type,y=g(h);if(2==d)h=y;else if(!y){if(1==d)continue e;break e}}p[_++]=h}return p},kr.prototype.at=Ru,kr.prototype.chain=function(){return cu(this)},kr.prototype.commit=function(){return new Lr(this.value(),this.__chain__)},kr.prototype.next=function(){this.__values__===o&&(this.__values__=ca(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},kr.prototype.plant=function(e){for(var t,r=this;r instanceof Gr;){var n=Yi(r);n.__index__=0,n.__values__=o,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},kr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Br){var t=e;return this.__actions__.length&&(t=new Br(this)),(t=t.reverse()).__actions__.push({func:_u,args:[Qi],thisArg:o}),new Lr(t,this.__chain__)}return this.thru(Qi)},kr.prototype.toJSON=kr.prototype.valueOf=kr.prototype.value=function(){return co(this.__wrapped__,this.__actions__)},kr.prototype.first=kr.prototype.head,Xe&&(kr.prototype[Xe]=function(){return this}),kr}();ct._=Rr,(n=function(){return Rr}.call(t,r,t,e))===o||(e.exports=n)}.call(this)},506(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(448),o={name:"Controller Container",plan:function(e,t){if(!e.controller||!(0,n.isSafePosition)(e.controller.pos))return 0;const r=e.controller.pos.findInRange(FIND_STRUCTURES,3,{filter:e=>e.structureType===STRUCTURE_CONTAINER}),o=e.controller.pos.findInRange(FIND_CONSTRUCTION_SITES,3,{filter:e=>e.structureType===STRUCTURE_CONTAINER});if(r.length>0||o.length>0)return 0;let i=null;for(let t=-1;t<=1;t++){for(let r=-1;r<=1;r++){if(0===t&&0===r)continue;const n=e.controller.pos.x+t,o=e.controller.pos.y+r;if(n<2||n>47||o<2||o>47)continue;const u=new RoomPosition(n,o,e.name);if(e.getTerrain().get(n,o)!==TERRAIN_MASK_WALL&&!(u.lookFor(LOOK_STRUCTURES).length>0||u.lookFor(LOOK_CONSTRUCTION_SITES).length>0)){i=u;break}}if(i)break}return i&&e.createConstructionSite(i,STRUCTURE_CONTAINER)===OK?(console.log(`[ManagerPlanner] Planning Controller Container at ${i}`),1):0},isComplete:function(e,t){return!e.controller||(e.controller.pos.findInRange(FIND_STRUCTURES,3,{filter:e=>e.structureType===STRUCTURE_CONTAINER}).length>0||e.controller.pos.findInRange(FIND_CONSTRUCTION_SITES,3,{filter:e=>e.structureType===STRUCTURE_CONTAINER}).length>0)}};t.default=o},986(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(448),o={name:"Controller Roads",plan:function(e,t){return e.controller&&(0,n.isSafePosition)(e.controller.pos)?(0,n.planRoadsFromToNearestRoad)(e,e.controller.pos):0},isComplete:function(e,t){if(!e.controller)return!0;const r=(0,n.findTargetForRoadConnection)(e,e.controller.pos);return!r||(0,n.isRoadPathComplete)(e,e.controller.pos,r)}};t.default=o},930(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(448),o={name:"Exit Roads",plan:function(e,t){const r=[FIND_EXIT_TOP,FIND_EXIT_RIGHT,FIND_EXIT_BOTTOM,FIND_EXIT_LEFT];let o=0;for(const t of r){const r=e.find(t);if(0===r.length)continue;const i=[];if(r.length>0){let e=[r[0]];for(let t=1;t<r.length;t++){const n=r[t-1],o=r[t];Math.abs(n.x-o.x)<=1&&Math.abs(n.y-o.y)<=1?e.push(o):(i.push(e[Math.floor(e.length/2)]),e=[o])}i.push(e[Math.floor(e.length/2)])}for(const t of i)if(o+=(0,n.planRoadsFromToNearestRoad)(e,t),o>0)return o}return o},isComplete:function(e,t){const r=[FIND_EXIT_TOP,FIND_EXIT_RIGHT,FIND_EXIT_BOTTOM,FIND_EXIT_LEFT];for(const t of r){const r=e.find(t);if(0===r.length)continue;const o=[];let i=[r[0]];for(let e=1;e<r.length;e++){const t=r[e-1],n=r[e];Math.abs(t.x-n.x)<=1&&Math.abs(t.y-n.y)<=1?i.push(n):(o.push(i[Math.floor(i.length/2)]),i=[n])}o.push(i[Math.floor(i.length/2)]);for(const t of o){const r=(0,n.findTargetForRoadConnection)(e,t);if(r&&!(0,n.isRoadPathComplete)(e,t,r))return!1}}return!0}};t.default=o},79(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(448),o={name:"Extensions",plan:function(e,t){if(!e.controller||e.controller.level<2)return 0;if(!(0,n.isSafePosition)(t.pos))return 0;let r=0,o=0;const i=CONTROLLER_STRUCTURES[STRUCTURE_EXTENSION][e.controller.level],u=e.find(FIND_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_ROAD}).concat(e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_ROAD}));if(0===u.length)return 0;for(const n of u){if(r>=i)break;for(let u=-2;u<=2;u++)for(let a=-2;a<=2&&!(r>=i);a++){if(Math.abs(u)<2&&Math.abs(a)<2)continue;const i=n.pos.x+u,l=n.pos.y+a;if(i<1||i>48||l<1||l>48)continue;const s=new RoomPosition(i,l,e.name);if(s.getRangeTo(t.pos)<2)continue;if(e.getTerrain().get(i,l)===TERRAIN_MASK_WALL)continue;const f=s.findInRange(FIND_STRUCTURES,1).length,c=s.findInRange(FIND_CONSTRUCTION_SITES,1).length;0===f&&0===c&&e.createConstructionSite(i,l,STRUCTURE_EXTENSION)===OK&&(r++,o++)}}return o},isComplete:function(e,t){return!e.controller||e.controller.level<2||e.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_EXTENSION}).length+e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_EXTENSION}).length>=CONTROLLER_STRUCTURES[STRUCTURE_EXTENSION][e.controller.level]}};t.default=o},862(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(448),o={name:"First Tower",plan:function(e,t){if(!e.controller||e.controller.level<3)return 0;if(!(0,n.isSafePosition)(t.pos))return 0;const r=e.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_TOWER}).length>0,o=e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_TOWER}).length>0;if(r||o)return 0;let i=0;const u=t.pos.findInRange(FIND_STRUCTURES,5,{filter:e=>e.structureType===STRUCTURE_ROAD});if(0===u.length)return 0;let a=null;for(const r of u){for(let n=-2;n<=2;n++){for(let o=-2;o<=2;o++)if(2===Math.abs(n)||2===Math.abs(o)){const i=r.pos.x+n,u=r.pos.y+o;if(i<0||i>49||u<0||u>49)continue;const l=new RoomPosition(i,u,e.name);if(l.getRangeTo(t.pos)<3)continue;if(e.getTerrain().get(i,u)===TERRAIN_MASK_WALL)continue;if(l.lookFor(LOOK_STRUCTURES).length>0)continue;if(l.lookFor(LOOK_CONSTRUCTION_SITES).length>0)continue;a=l;break}if(a)break}if(a)break}return a&&e.createConstructionSite(a,STRUCTURE_TOWER)===OK&&i++,i},isComplete:function(e,t){if(!e.controller||e.controller.level<3)return!0;const r=e.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_TOWER}).length>0,n=e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_TOWER}).length>0;return r||n}};t.default=o},892(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(543)),i={name:"Links",plan:function(e,t){if(!e.controller||e.controller.level<5)return 0;const r=e.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_LINK}),n=e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_LINK});let i=r.length+n.length;const u=CONTROLLER_STRUCTURES[STRUCTURE_LINK][e.controller.level];if(i>=u)return 0;let a=0;const l=e.find(FIND_SOURCES),s=o.default.sortBy(l,e=>t.pos.getRangeTo(e)),f=[];s.length>0&&f.push({pos:s[0].pos,name:"Source 0"}),e.storage&&f.push({pos:e.storage.pos,name:"Storage"}),s.length>1&&f.push({pos:s[1].pos,name:"Source 1"}),e.controller&&f.push({pos:e.controller.pos,name:"Controller"});for(const t of f){if(i>=u)break;if(!(t.pos.findInRange(FIND_MY_STRUCTURES,2,{filter:e=>e.structureType===STRUCTURE_LINK}).length>0||t.pos.findInRange(FIND_CONSTRUCTION_SITES,2,{filter:e=>e.structureType===STRUCTURE_LINK}).length>0)){const r=e.getTerrain();let n=null;const u=t.name.startsWith("Source")?1:3;for(let i=1;i<=u;i++){for(let u=-i;u<=i;u++){for(let a=-i;a<=i;a++){if(i>1&&Math.abs(u)<i&&Math.abs(a)<i)continue;const l=t.pos.x+u,s=t.pos.y+a;if(l<1||l>48||s<1||s>48)continue;if(r.get(l,s)===TERRAIN_MASK_WALL)continue;const f=new RoomPosition(l,s,e.name),c=f.lookFor(LOOK_STRUCTURES);if(o.default.some(c,e=>e.structureType!==STRUCTURE_ROAD&&e.structureType!==STRUCTURE_RAMPART))continue;const _=f.lookFor(LOOK_CONSTRUCTION_SITES);if(!o.default.some(_,e=>e.structureType!==STRUCTURE_ROAD&&e.structureType!==STRUCTURE_RAMPART)){n=f;break}}if(n)break}if(n)break}if(n){const r=n.lookFor(LOOK_STRUCTURES).find(e=>e.structureType===STRUCTURE_ROAD);r&&(console.log(`[ManagerPlanner] Destroying road at ${n} to place Link for ${t.name}.`),r.destroy()),e.createConstructionSite(n,STRUCTURE_LINK)===OK&&(console.log(`[ManagerPlanner] Planned Link for ${t.name} at ${n}`),a++,i++)}else console.log(`[ManagerPlanner] Could not find valid position for Link near ${t.name} at range ${u}.`)}}return a},isComplete:function(e,t){if(!e.controller||e.controller.level<5)return!0;e.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_LINK});const r=CONTROLLER_STRUCTURES[STRUCTURE_LINK][e.controller.level],n=e.find(FIND_SOURCES),i=o.default.sortBy(n,e=>t.pos.getRangeTo(e)),u=[];i.length>0&&u.push(i[0].pos),e.storage&&u.push(e.storage.pos),i.length>1&&u.push(i[1].pos),e.controller&&u.push(e.controller.pos);const a=u.slice(0,r);for(const e of a)if(!(e.findInRange(FIND_MY_STRUCTURES,2,{filter:e=>e.structureType===STRUCTURE_LINK}).length>0))return!1;return!(e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_LINK}).length>0)}};t.default=i},528(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(448),o={name:"Mineral Roads",plan:function(e,t){if(!e.controller||e.controller.level<6)return 0;const r=e.find(FIND_MINERALS)[0];return r&&(0,n.isSafePosition)(r.pos)?(0,n.planRoadsFromToNearestRoad)(e,r.pos):0},isComplete:function(e,t){if(!e.controller||e.controller.level<6)return!0;const r=e.find(FIND_MINERALS)[0];if(!r)return!0;const o=(0,n.findTargetForRoadConnection)(e,r.pos);return!o||(0,n.isRoadPathComplete)(e,r.pos,o)}};t.default=o},30(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(761),o={name:"Ramparts and Walls",plan:function(e,t){var r;if(0===n.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.structureType===STRUCTURE_TOWER).length)return 0;let o=0;null===(r=e.controller)||void 0===r||r.level;let i=n.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.structureType===STRUCTURE_RAMPART).length,u=n.cacheUtils.findInRoom(e,FIND_CONSTRUCTION_SITES,e=>e.structureType===STRUCTURE_RAMPART).length;if(i+u>=100)return 0;const a=n.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.structureType===STRUCTURE_SPAWN||e.structureType===STRUCTURE_TOWER||e.structureType===STRUCTURE_STORAGE||e.structureType===STRUCTURE_TERMINAL);for(const t of a){if(i+u+o>=100)break;const r=t.pos.lookFor(LOOK_STRUCTURES).some(e=>e.structureType===STRUCTURE_RAMPART),n=t.pos.lookFor(LOOK_CONSTRUCTION_SITES).some(e=>e.structureType===STRUCTURE_RAMPART);r||n||e.createConstructionSite(t.pos,STRUCTURE_RAMPART)===OK&&(o++,u++)}if(o<10){const t=e.getTerrain(),r=e.find(FIND_EXIT),n=new Set,a=[];for(const o of r){let r=o.x,i=o.y;0===r?r=2:49===r&&(r=47),0===i?i=2:49===i&&(i=47);const u=new RoomPosition(r,i,e.name),l=`${u.x},${u.y}`;n.has(l)||t.get(u.x,u.y)===TERRAIN_MASK_WALL||(n.add(l),a.push(u))}const l=[];for(const r of a){const o=[{dx:1,dy:1},{dx:1,dy:-1},{dx:-1,dy:1},{dx:-1,dy:-1}];for(const i of o){const o=`${r.x+i.dx},${r.y+i.dy}`;n.has(o)&&[new RoomPosition(r.x+i.dx,r.y,e.name),new RoomPosition(r.x,r.y+i.dy,e.name)].forEach(e=>{const r=`${e.x},${e.y}`;n.has(r)||t.get(e.x,e.y)===TERRAIN_MASK_WALL||(l.push(e),n.add(r))})}}const s=[...a,...l];for(const t of s){const r=t.lookFor(LOOK_STRUCTURES).find(e=>e.structureType===STRUCTURE_RAMPART||e.structureType===STRUCTURE_WALL),n=t.lookFor(LOOK_CONSTRUCTION_SITES).find(e=>e.structureType===STRUCTURE_RAMPART||e.structureType===STRUCTURE_WALL);if(!r&&!n){const r=t.lookFor(LOOK_STRUCTURES).some(e=>e.structureType===STRUCTURE_ROAD),n=!a.includes(t),l=r||n?STRUCTURE_RAMPART:STRUCTURE_WALL;if(l===STRUCTURE_RAMPART&&i+u+o>=100)continue;if(e.createConstructionSite(t,l)===OK&&(o++,l===STRUCTURE_RAMPART&&u++,o>=15))break}}}return o},isComplete:function(e,t){return 0===n.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.structureType===STRUCTURE_TOWER).length||n.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.structureType===STRUCTURE_RAMPART||e.structureType===STRUCTURE_WALL).length+n.cacheUtils.findInRoom(e,FIND_CONSTRUCTION_SITES,e=>e.structureType===STRUCTURE_RAMPART||e.structureType===STRUCTURE_WALL).length>=20}};t.default=o},524(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={name:"Second Tower",plan:function(e,t){if(!e.controller||e.controller.level<5)return 0;const r=e.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_TOWER}),n=e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_TOWER});if(r.length+n.length>=2)return 0;let o=0,i=null;const u=r[0];for(let r=2;r<=5;r++){for(let n=-r;n<=r;n++){for(let o=-r;o<=r;o++){if(Math.abs(n)<r&&Math.abs(o)<r)continue;const a=t.pos.x+n,l=t.pos.y+o;if(a<1||a>48||l<1||l>48)continue;const s=new RoomPosition(a,l,e.name);if(!(u&&s.getRangeTo(u.pos)<2)&&!(s.getRangeTo(t.pos)<2||e.getTerrain().get(a,l)===TERRAIN_MASK_WALL||s.lookFor(LOOK_STRUCTURES).length>0||s.lookFor(LOOK_CONSTRUCTION_SITES).length>0)){i=s;break}}if(i)break}if(i)break}return i&&e.createConstructionSite(i,STRUCTURE_TOWER)===OK&&o++,o},isComplete:function(e,t){return!e.controller||e.controller.level<5||!(e.find(FIND_MY_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_TOWER}).length<2)&&!(e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_TOWER}).length>0)}};t.default=r},540(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(448),o={name:"Source Containers",plan:function(e,t){const r=e.find(FIND_SOURCES);let o=0;for(const t of r){if((0,n.findSourceContainer)(t))continue;if(!(0,n.isSafePosition)(t.pos)){console.log(`[ManagerPlanner] Source at ${t.pos} is not safe. Skipping container planning.`);continue}let r=null;for(let n=1;n<=2;n++){for(let o=-n;o<=n;o++){for(let i=-n;i<=n;i++){if(0===o&&0===i)continue;if(Math.abs(o)<n&&Math.abs(i)<n&&n>1)continue;const u=t.pos.x+o,a=t.pos.y+i;if(u<0||u>49||a<0||a>49)continue;const l=new RoomPosition(u,a,e.name);if(e.getTerrain().get(u,a)!==TERRAIN_MASK_WALL&&!(l.lookFor(LOOK_STRUCTURES).filter(e=>e.structureType!==STRUCTURE_ROAD).length>0||l.lookFor(LOOK_CONSTRUCTION_SITES).filter(e=>e.structureType!==STRUCTURE_ROAD).length>0)){r=l;break}}if(r)break}if(r)break}r&&e.createConstructionSite(r,STRUCTURE_CONTAINER)===OK&&(console.log(`[ManagerPlanner] Created Source Container CS at ${r}`),o++)}return o},isComplete:function(e,t){const r=e.find(FIND_SOURCES);for(const e of r)if(!(e.pos.findInRange(FIND_STRUCTURES,3,{filter:e=>e.structureType===STRUCTURE_CONTAINER}).length>0||e.pos.findInRange(FIND_CONSTRUCTION_SITES,3,{filter:e=>e.structureType===STRUCTURE_CONTAINER}).length>0))return!1;return!0}};t.default=o},445(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(448),o={name:"Source Roads",plan:function(e,t){const r=e.find(FIND_SOURCES);let o=0;for(const i of r)(0,n.isSafePosition)(i.pos)?o+=(0,n.planRoadFromTo)(e,i.pos,t.pos):console.log(`[ManagerPlanner] Source at ${i.pos} is not safe. Skipping road planning.`);return o},isComplete:function(e,t){const r=e.find(FIND_SOURCES);for(const o of r)if(!(0,n.isRoadPathComplete)(e,o.pos,t.pos))return!1;return!0}};t.default=o},303(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(448),o={name:"Spawn Roads",plan:function(e,t){if(!(0,n.isSafePosition)(t.pos))return 0;let r=0;const o=t.pos;for(let t=o.x-1;t<=o.x+1;t++)for(let n=o.y-1;n<=o.y+1;n++)if(t===o.x-1||t===o.x+1||n===o.y-1||n===o.y+1){if(t<0||t>49||n<0||n>49)continue;if(e.getTerrain().get(t,n)===TERRAIN_MASK_WALL)continue;e.createConstructionSite(t,n,STRUCTURE_ROAD)===OK&&r++}return r},isComplete:function(e,t){let r=0,n=0;for(let o=t.pos.x-1;o<=t.pos.x+1;o++)for(let i=t.pos.y-1;i<=t.pos.y+1;i++)if(!(o===t.pos.x&&i===t.pos.y||o<0||o>49||i<0||i>49||e.getTerrain().get(o,i)===TERRAIN_MASK_WALL)){r++;const t=new RoomPosition(o,i,e.name),u=t.lookFor(LOOK_STRUCTURES).some(e=>e.structureType===STRUCTURE_ROAD),a=t.lookFor(LOOK_CONSTRUCTION_SITES).some(e=>e.structureType===STRUCTURE_ROAD);(u||a)&&n++}return n>=r}};t.default=o},212(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={name:"Storage",plan:function(e,t){if(!e.controller||e.controller.level<4)return 0;const r=e.find(FIND_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_STORAGE}),n=e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_STORAGE});if(r.length>0||n.length>0)return 0;let o=0,i=null;for(let r=1;r<=2;r++){for(let n=-r;n<=r;n++){for(let o=-r;o<=r;o++){if(0===n&&0===o)continue;if(Math.abs(n)<r&&Math.abs(o)<r&&r>1)continue;const u=new RoomPosition(t.pos.x+n,t.pos.y+o,e.name);if(u.isWalkable()){if(u.lookFor(LOOK_STRUCTURES).length>0)continue;if(u.lookFor(LOOK_CONSTRUCTION_SITES).length>0)continue;i=u;break}}if(i)break}if(i)break}return i&&e.createConstructionSite(i,STRUCTURE_STORAGE)===OK&&(console.log(`[ManagerPlanner] Created Storage CS at ${i}`),o++),o},isComplete:function(e,t){return!e.controller||e.controller.level<4||(e.find(FIND_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_STORAGE}).length>0||e.find(FIND_CONSTRUCTION_SITES,{filter:e=>e.structureType===STRUCTURE_STORAGE}).length>0)}};t.default=r},448(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findTargetForRoadConnection=o,t.planRoadsFromToNearestRoad=function(e,t){const r=o(e,t);if(!r)return 0;const n=e.findPath(t,r,{ignoreCreeps:!0,swampCost:1,plainCost:1,maxOps:2e3});let i=0;for(const t of n)e.createConstructionSite(t.x,t.y,STRUCTURE_ROAD)===OK&&i++;return i},t.planRoadFromTo=function(e,t,r){const n=e.findPath(t,r,{ignoreCreeps:!0,swampCost:1,plainCost:1,maxOps:2e3});let o=0;for(const t of n)e.createConstructionSite(t.x,t.y,STRUCTURE_ROAD)===OK&&o++;return o},t.findSourceContainer=function(e){const t=e.pos.findInRange(n.cacheUtils.findInRoom(e.room,FIND_STRUCTURES,e=>e.structureType===STRUCTURE_CONTAINER),3)[0];if(t)return t;return e.pos.findInRange(n.cacheUtils.findInRoom(e.room,FIND_CONSTRUCTION_SITES,e=>e.structureType===STRUCTURE_CONTAINER),3)[0]||null},t.isSafePosition=function(e){const t=Game.rooms[e.roomName];return!t||!(e.findInRange(n.cacheUtils.getHostiles(t),5).length>0)&&0===e.findInRange(n.cacheUtils.findInRoom(t,FIND_HOSTILE_STRUCTURES),5).length},t.isRoadPathComplete=function(e,t,r){const n=e.findPath(t,r,{ignoreCreeps:!0,swampCost:1,plainCost:1,maxOps:2e3});return 0===n.length?0===t.getRangeTo(r):n.every(t=>{const r=e.getPositionAt(t.x,t.y);if(!r)return!1;const n=r.lookFor(LOOK_STRUCTURES).some(e=>e.structureType===STRUCTURE_ROAD),o=r.lookFor(LOOK_CONSTRUCTION_SITES).some(e=>e.structureType===STRUCTURE_ROAD);return n||o})},t.findControllerContainer=function(e){if(!e.controller)return null;const t=e.controller.pos.findInRange(n.cacheUtils.findInRoom(e,FIND_STRUCTURES,e=>e.structureType===STRUCTURE_CONTAINER),3)[0];if(t)return t;return e.controller.pos.findInRange(n.cacheUtils.findInRoom(e,FIND_CONSTRUCTION_SITES,e=>e.structureType===STRUCTURE_CONTAINER),3)[0]||null};const n=r(761);function o(e,t){const r=n.cacheUtils.findInRoom(e,FIND_STRUCTURES,e=>e.structureType===STRUCTURE_ROAD).concat(n.cacheUtils.findInRoom(e,FIND_CONSTRUCTION_SITES,e=>e.structureType===STRUCTURE_ROAD)).filter(e=>e.pos.getRangeTo(t)>2);if(r.length>0){const e=t.findClosestByPath(r);if(e)return e.pos}const o=n.cacheUtils.findInRoom(e,FIND_MY_SPAWNS);return o.length>0?o[0].pos:null}},927(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loop=void 0;const o=n(r(543)),i=n(r(978)),u=n(r(180)),a=n(r(594)),l=n(r(119)),s=n(r(605)),f=n(r(369)),c=n(r(864)),_=n(r(70)),R=n(r(292)),p=n(r(52)),m=n(r(648)),h=n(r(77)),T=n(r(821)),g=n(r(551)),d=n(r(169)),y=r(604),v=n(r(474)),E=r(761),S=[STRUCTURE_SPAWN,STRUCTURE_EXTENSION,STRUCTURE_WALL,STRUCTURE_RAMPART,STRUCTURE_KEEPER_LAIR,STRUCTURE_PORTAL,STRUCTURE_CONTROLLER,STRUCTURE_LINK,STRUCTURE_STORAGE,STRUCTURE_TOWER,STRUCTURE_OBSERVER,STRUCTURE_POWER_SPAWN,STRUCTURE_EXTRACTOR,STRUCTURE_LAB,STRUCTURE_TERMINAL,STRUCTURE_NUKER,STRUCTURE_FACTORY,STRUCTURE_POWER_BANK];function C(e){var t;const r=(null===(t=e.controller)||void 0===t?void 0:t.level)||1,n=E.cacheUtils.getSources(e),i=o.default.filter(Game.creeps,t=>"harvester"===t.memory.role&&t.room.name===e.name),u=o.default.filter(Game.creeps,t=>"supplier"===t.memory.role&&t.room.name===e.name),a=o.default.filter(Game.creeps,t=>"upgrader"===t.memory.role&&t.room.name===e.name),l=o.default.filter(Game.creeps,t=>"builder"===t.memory.role&&t.room.name===e.name),s=o.default.filter(Game.creeps,t=>"guard"===t.memory.role&&t.room.name===e.name),f=o.default.filter(Game.creeps,t=>"archer"===t.memory.role&&t.room.name===e.name),c=o.default.filter(Game.creeps,t=>"repairer"===t.memory.role&&t.room.name===e.name),_=o.default.filter(Game.creeps,t=>"scout"===t.memory.role&&t.room.name===e.name),R=o.default.filter(Game.creeps,t=>"remoteHarvester"===t.memory.role&&t.room.name===e.name),p=o.default.filter(Game.creeps,t=>"carrier"===t.memory.role&&t.room.name===e.name),m=o.default.filter(Game.creeps,t=>"reserver"===t.memory.role&&t.room.name===e.name),h=(r<4?2:1)*n.length,T=2*h,g=1===r?3:2===r?2:1,d=E.cacheUtils.getHostiles(e),y=E.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.hits<e.hitsMax,5),v=d.length>0&&y.length>0,S=v?1:0,C=v?2:0,O=y.length>5&&r>=3?1:0,U=.9;let I=.5;e.visual.text(`Harvesters: ${i.length}/${h}`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Suppliers: ${u.length}/${T}`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Upgraders: ${a.length}/${g}`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Builders: ${l.length}/1`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Guards: ${s.length}/${S}`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Archers: ${f.length}/${C}`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Repairers: ${c.length}/${O}`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Scouts: ${_.length}`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Remote Harvesters: ${R.length}`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Carriers: ${p.length}`,49,I,{align:"right",opacity:.8}),I+=U,e.visual.text(`Reservers: ${m.length}`,49,I,{align:"right",opacity:.8})}RoomPosition.prototype.isWalkable=function(e){if("wall"===this.lookFor(LOOK_TERRAIN)[0])return!1;const t=this.lookFor(LOOK_STRUCTURES);if(o.default.some(t,e=>S.includes(e.structureType)))return!1;const r=this.lookFor(LOOK_CONSTRUCTION_SITES);if(o.default.some(r,e=>S.includes(e.structureType)))return!1;if(e){const t=this.lookFor(LOOK_CREEPS);if(t.length>0&&t[0].id!==e.id)return!1}return!0},RoomPosition.prototype.getAdjacentPositions=function(){const e=[];for(let t=-1;t<=1;t++)for(let r=-1;r<=1;r++){if(0===t&&0===r)continue;const n=this.x+t,o=this.y+r;n>=0&&n<=49&&o>=0&&o<=49&&e.push(new RoomPosition(n,o,this.roomName))}return e},RoomPosition.prototype.hasCreep=function(){return this.lookFor(LOOK_CREEPS).length>0},RoomPosition.prototype.findAdjacentWalkableSpot=function(){const e=Game.rooms[this.roomName];if(!e)return null;for(let t=-1;t<=1;t++)for(let r=-1;r<=1;r++){if(0===t&&0===r)continue;const n=this.x+t,i=this.y+r;if(n<0||n>49||i<0||i>49)continue;const u=new RoomPosition(n,i,this.roomName);if(e.getTerrain().get(n,i)===TERRAIN_MASK_WALL)continue;const a=u.lookFor(LOOK_STRUCTURES);if(o.default.some(a,e=>e.structureType!==STRUCTURE_ROAD&&e.structureType!==STRUCTURE_RAMPART))continue;const l=u.lookFor(LOOK_CONSTRUCTION_SITES);if(!o.default.some(l,e=>e.structureType!==STRUCTURE_ROAD&&e.structureType!==STRUCTURE_RAMPART))return u}return null},t.loop=()=>{(0,v.default)(),g.default.run(),d.default.run(),Game.cpu.generatePixel&&Game.cpu.bucket>=1e4&&(o.default.some(Game.rooms,e=>E.cacheUtils.getHostiles(e).length>0)?console.log("[Main] Suspending pixel generation: Room(s) under attack! ⚔️"):(Game.cpu.generatePixel(),console.log("[Main] Generated a Pixel! 💎")));for(const e in Memory.creeps)Game.creeps[e]||delete Memory.creeps[e];for(const e in Game.rooms){const t=Game.rooms[e];h.default.run(t);const r=E.cacheUtils.findInRoom(t,FIND_MY_SPAWNS)[0];r&&(T.default.run(t,r),C(t),y.managerTower.run(t),t.controller&&t.controller.my&&!t.controller.safeMode&&t.controller.safeModeAvailable>0)&&E.cacheUtils.getHostiles(t).length>0&&E.cacheUtils.findInRoom(t,FIND_MY_STRUCTURES,e=>(e.structureType===STRUCTURE_SPAWN||e.structureType===STRUCTURE_TOWER)&&e.hits<e.hitsMax,1).length>0&&(t.controller.activateSafeMode(),console.log(`[Main] Safe Mode activated in room ${t.name}! Critical structures under attack.`))}for(const e in Game.creeps){const t=Game.creeps[e];"harvester"===t.memory.role&&i.default.run(t),"upgrader"===t.memory.role&&u.default.run(t),"supplier"===t.memory.role&&a.default.run(t),"builder"===t.memory.role&&l.default.run(t),"guard"===t.memory.role&&s.default.run(t),"archer"===t.memory.role&&f.default.run(t),"repairer"===t.memory.role&&c.default.run(t),"scout"===t.memory.role&&_.default.run(t),"remoteHarvester"===t.memory.role&&R.default.run(t),"carrier"===t.memory.role&&p.default.run(t),"reserver"===t.memory.role&&m.default.run(t)}}},169(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(543)),i={run:function(){if(Game.time%10==0)for(const e in Game.rooms){const t=Game.rooms[e],r=t.terminal;r&&r.my&&0===r.cooldown&&this.handleEnergySales(t,r)}},handleEnergySales:function(e,t){const r=t.store[RESOURCE_ENERGY];if(r<5e4)return;const n=Math.min(r-3e4,1e4),i=Game.market.getAllOrders({type:ORDER_BUY,resourceType:RESOURCE_ENERGY});if(0===i.length)return;const u=o.default.sortBy(i,[e=>-e.price,t=>Game.map.getRoomLinearDistance(e.name,t.roomName||"")])[0];u&&u.price>0&&Game.market.deal(u.id,n,e.name)===OK&&console.log(`[Market] Sold ${n} energy to ${u.roomName} at price ${u.price} in room ${e.name}`)}};t.default=i},77(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(303)),i=n(r(79)),u=n(r(445)),a=n(r(986)),l=n(r(528)),s=n(r(930)),f=n(r(540)),c=n(r(506)),_=n(r(862)),R=n(r(212)),p=n(r(524)),m=n(r(30)),h=n(r(892)),T=r(761),g={run:function(e){if(Game.time%20!=0)return;const t=T.cacheUtils.getHostiles(e),r=T.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.hits<e.hitsMax,5);if(t.length>0&&r.length>0)return void console.log(`[ManagerPlanner] Room ${e.name} actively under attack, suspending planning.`);const n=[o.default,u.default,a.default,i.default,_.default,R.default,f.default,c.default,p.default,h.default,m.default,l.default,s.default],g=n.length,d=T.cacheUtils.findInRoom(e,FIND_MY_SPAWNS);if(0===d.length)return;const y=d[0],v=T.cacheUtils.findInRoom(e,FIND_CONSTRUCTION_SITES).length;for(let t=0;t<g;t++){const r=n[t],o=r.name.toLowerCase().includes("roads");if(r.isComplete(e,y))continue;if(v>=(o?80:20))continue;let i=r.plan(e,y);if(i>0){console.log(`[ManagerPlanner] Planned ${i} sites for stage ${t}: ${r.name}`),e.memory.currentBlueprintStage=t;break}}}};t.default=g},551(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(761),o={run:function(){Memory.remoteRooms||(Memory.remoteRooms={}),this.updateScoutingData()},updateScoutingData:function(){for(const e in Game.creeps){const t=Game.creeps[e];if("scout"===t.memory.role&&t.room.name===t.memory.targetRoom){const e=t.room,r=n.cacheUtils.getSources(e).map(e=>({id:e.id,pos:{x:e.pos.x,y:e.pos.y}})),o=n.cacheUtils.getHostiles(e),i=n.cacheUtils.findInRoom(e,FIND_HOSTILE_STRUCTURES,void 0,100);Memory.remoteRooms[e.name]={sources:r,controllerPos:e.controller?{x:e.controller.pos.x,y:e.controller.pos.y}:void 0,needsReserving:e.controller&&!e.controller.my&&(!e.controller.reservation||e.controller.reservation.ticksToEnd<2e3),lastScouted:Game.time,safe:0===o.length,hasEnemyStructures:i.length>0},0===o.length&&0===i.length&&this.planRemoteInfrastructure(e,t.memory.homeRoom)}}},planRemoteInfrastructure:function(e,t){if(!t)return;const r=n.cacheUtils.getSources(e),o=e.findExitTo(t);if(o===ERR_INVALID_ARGS||o===ERR_NO_PATH)return;const i=n.cacheUtils.findInRoom(e,o);if(0===i.length)return;const u=i[0];for(const t of r){const r=t.pos.findInRange(FIND_STRUCTURES,2,{filter:{structureType:STRUCTURE_CONTAINER}}).length>0,n=t.pos.findInRange(FIND_CONSTRUCTION_SITES,2,{filter:{structureType:STRUCTURE_CONTAINER}}).length>0;if(!r&&!n){const r=t.pos.findAdjacentWalkableSpot();r&&e.createConstructionSite(r,STRUCTURE_CONTAINER)}const o=u.pos||u,i=e.findPath(t.pos,o,{ignoreCreeps:!0,swampCost:1,plainCost:1});for(const t of i)e.createConstructionSite(t.x,t.y,STRUCTURE_ROAD)}if(e.controller){const t=u.pos||u,r=e.findPath(e.controller.pos,t,{ignoreCreeps:!0,swampCost:1,plainCost:1});for(const t of r)e.createConstructionSite(t.x,t.y,STRUCTURE_ROAD)}},getRemoteHarvestTargets:function(e){const t=[];for(const r in Memory.remoteRooms){if(r===e.name)continue;const n=Memory.remoteRooms[r];if(n.safe&&!n.hasEnemyStructures&&Game.time-n.lastScouted<5e3)for(const e of n.sources)t.push({roomName:r,sourceId:e.id})}return t}};t.default=o},821(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(543)),i=n(r(551)),u=r(761);function a(e,t){const r=[];let n=0;const o=t>=4?7:6,i=BODYPART_COST[WORK]+BODYPART_COST[CARRY]+BODYPART_COST[MOVE];if(e<i)return[];if(r.push(WORK,CARRY,MOVE),n+=i,t>=4){for(;n+BODYPART_COST[WORK]<=e&&r.filter(e=>e===WORK).length<o&&r.length<48;)r.push(WORK),n+=BODYPART_COST[WORK];for(;n+BODYPART_COST[MOVE]<=e&&r.filter(e=>e===MOVE).length<2&&r.length<48;)r.push(MOVE),n+=BODYPART_COST[MOVE]}else{for(;n+BODYPART_COST[WORK]<=e&&r.filter(e=>e===WORK).length<o&&r.length<48;)r.push(WORK),n+=BODYPART_COST[WORK];const t=BODYPART_COST[CARRY]+BODYPART_COST[MOVE];for(;n+t<=e&&r.length<48;)r.push(CARRY,MOVE),n+=t}return r}function l(e){const t=[];let r=0;const n=BODYPART_COST[WORK]+BODYPART_COST[CARRY]+BODYPART_COST[MOVE];if(e<n)return[];for(t.push(WORK,CARRY,MOVE),r+=n;r+BODYPART_COST[WORK]<=e&&t.filter(e=>e===WORK).length<8&&t.length<48;)t.push(WORK),r+=BODYPART_COST[WORK];const o=1*t.filter(e=>e===WORK).length;for(;r+BODYPART_COST[CARRY]<=e&&t.filter(e=>e===CARRY).length<o&&t.length<48;)t.push(CARRY),r+=BODYPART_COST[CARRY];const i=t.filter(e=>e!==MOVE).length,u=Math.ceil(.5*i);for(;r+BODYPART_COST[MOVE]<=e&&t.filter(e=>e===MOVE).length<u&&t.length<48;)t.push(MOVE),r+=BODYPART_COST[MOVE];const a=BODYPART_COST[CARRY]+BODYPART_COST[MOVE];let l=0;for(;r+a<=e&&l<5&&t.length<48;)t.push(CARRY,MOVE),r+=a,l++;return t}function s(e){const t=[];let r=0;const n=BODYPART_COST[WORK]+BODYPART_COST[CARRY]+BODYPART_COST[MOVE];if(e<n)return[];for(t.push(WORK,CARRY,MOVE),r+=n;r+BODYPART_COST[WORK]<=e&&t.filter(e=>e===WORK).length<10&&t.length<48;)t.push(WORK),r+=BODYPART_COST[WORK];const o=BODYPART_COST[CARRY]+BODYPART_COST[MOVE];for(;r+o<=e&&t.filter(e=>e===CARRY).length<5&&t.filter(e=>e===MOVE).length<5&&t.length<48;)t.push(CARRY,MOVE),r+=o;return t}function f(e){const t=[];let r=0;const n=BODYPART_COST[WORK]+BODYPART_COST[CARRY]+BODYPART_COST[MOVE];if(e<n)return[];t.push(WORK,CARRY,MOVE),r+=n;const o=BODYPART_COST[CARRY]+BODYPART_COST[MOVE];for(;r+o<=e&&t.filter(e=>e===CARRY).length<10&&t.filter(e=>e===MOVE).length<10&&t.length<48;)t.push(CARRY,MOVE),r+=o;return t}function c(e){const t=[];let r=0;const n=BODYPART_COST[WORK]+BODYPART_COST[CARRY]+BODYPART_COST[MOVE];if(e<n)return[];for(t.push(WORK,CARRY,MOVE),r+=n;r+BODYPART_COST[WORK]<=e&&t.filter(e=>e===WORK).length<3&&t.length<48;)t.push(WORK),r+=BODYPART_COST[WORK];const o=BODYPART_COST[CARRY]+BODYPART_COST[MOVE];let i=0;for(;r+o<=e&&i<10&&t.length<48;)t.push(CARRY,MOVE),r+=o,i++;return t}function _(e){const t=[];let r=0;const n=BODYPART_COST[CARRY]+BODYPART_COST[MOVE];if(e<n)return[];t.push(CARRY,MOVE),r+=n;const o=BODYPART_COST[CARRY]+BODYPART_COST[MOVE];let i=0;for(;r+o<=e&&i<10&&t.length<48;)t.push(CARRY,MOVE),r+=o,i++;return t}function R(e){const t=[];let r=0;const n=BODYPART_COST[CLAIM]+BODYPART_COST[MOVE];if(e<n)return[];for(t.push(CLAIM,MOVE),r+=n;r+BODYPART_COST[MOVE]<=e&&t.filter(e=>e===MOVE).length<3&&t.length<48;)t.push(MOVE),r+=BODYPART_COST[MOVE];for(;r+BODYPART_COST[CLAIM]<=e&&t.filter(e=>e===CLAIM).length<2&&t.length<48;)t.push(CLAIM),r+=BODYPART_COST[CLAIM];return t}function p(e){const t=[];let r=0;const n=BODYPART_COST[WORK]+BODYPART_COST[CARRY]+BODYPART_COST[MOVE];if(e<n)return[];t.push(WORK,CARRY,MOVE),r+=n;const o=BODYPART_COST[WORK]+BODYPART_COST[CARRY]+BODYPART_COST[MOVE];for(;r+o<=e&&t.length<48;)t.push(WORK,CARRY,MOVE),r+=o;return t}const m={run:function(e,t){var r;if(t.spawning)return;const n=u.cacheUtils.findInRoom(e,FIND_SOURCES),m=u.cacheUtils.findInRoom(e,FIND_HOSTILE_STRUCTURES),h=u.cacheUtils.findInRoom(e,FIND_HOSTILE_CREEPS),T=n.filter(e=>function(e,t,r){for(const r of t)if(e.pos.getRangeTo(r)<=10)return!1;for(const t of r)if(e.pos.getRangeTo(t)<=10)return!1;return!0}(e,m,h)),g=e.energyAvailable,d=e.energyCapacityAvailable,y=o.default.filter(Game.creeps,t=>"harvester"===t.memory.role&&t.room.name===e.name),v=o.default.filter(Game.creeps,t=>"supplier"===t.memory.role&&t.room.name===e.name),E=o.default.filter(Game.creeps,t=>"upgrader"===t.memory.role&&t.room.name===e.name),S=o.default.filter(Game.creeps,t=>"builder"===t.memory.role&&t.room.name===e.name),C=o.default.filter(Game.creeps,t=>"guard"===t.memory.role&&t.room.name===e.name),O=o.default.filter(Game.creeps,t=>"archer"===t.memory.role&&t.room.name===e.name),U=o.default.filter(Game.creeps,t=>"repairer"===t.memory.role&&t.room.name===e.name),I=u.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.hits<e.hitsMax),N=h.length>0&&I.length>0,A=(null===(r=e.controller)||void 0===r?void 0:r.level)||1;Memory.roomsToExplore||(Memory.roomsToExplore={});const b=A<4?2:1,P=T.length*b,M=2*P;if(y.length<P||v.length<M){if(v.length<2*y.length&&v.length<M){const e=0===v.length?f(g):f(d);if(e.length>0&&t.spawnCreep(e,"Supplier"+Game.time,{memory:{role:"supplier"}})===OK)return}else if(y.length<P){for(const e of T)if(o.default.filter(y,t=>t.memory.sourceId===e.id).length<b){const r=0===y.length||0===v.length?a(g,A):a(d,A);if(r.length>0&&t.spawnCreep(r,"Harvester"+Game.time,{memory:{role:"harvester",sourceId:e.id}})===OK)return}}else if(v.length<M){const e=0===v.length?f(g):f(d);if(e.length>0&&t.spawnCreep(e,"Supplier"+Game.time,{memory:{role:"supplier"}})===OK)return}return}const w=u.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.structureType===STRUCTURE_EXTENSION).length>=15,D=N&&w?1:0,x=N&&w?2:0;if(C.length<D){const e=function(e){const t=[];let r=0;const n=BODYPART_COST[TOUGH]+BODYPART_COST[ATTACK]+2*BODYPART_COST[MOVE];if(e<n)return[];t.push(TOUGH,ATTACK,MOVE,MOVE),r+=n;const o=2*BODYPART_COST[TOUGH]+BODYPART_COST[MOVE];let i=0;for(;r+o<=e&&i<8&&t.length<48;)t.push(TOUGH,TOUGH,MOVE),r+=o,i++;for(;r+BODYPART_COST[ATTACK]<=e&&t.filter(e=>e===ATTACK).length<10&&t.length<48;)t.push(ATTACK),r+=BODYPART_COST[ATTACK];return t}(d);if(e.length>0&&t.spawnCreep(e,"Guard"+Game.time,{memory:{role:"guard"}})===OK)return}if(O.length<x){const e=function(e){const t=[];let r=0;const n=BODYPART_COST[RANGED_ATTACK]+BODYPART_COST[MOVE];if(e<n)return[];t.push(RANGED_ATTACK,MOVE),r+=n;const o=BODYPART_COST[RANGED_ATTACK]+BODYPART_COST[MOVE];let i=0;for(;r+o<=e&&i<15&&t.length<48;)t.push(RANGED_ATTACK,MOVE),r+=o,i++;return t}(d);if(e.length>0&&t.spawnCreep(e,"Archer"+Game.time,{memory:{role:"archer"}})===OK)return}const F=o.default.filter(Game.creeps,e=>"remoteHarvester"===e.memory.role),k=i.default.getRemoteHarvestTargets(e);for(const r of k)if(!o.default.find(F,e=>e.memory.targetRoom===r.roomName&&e.memory.remoteSourceId===r.sourceId)){const n=c(d);if(n.length>0&&t.spawnCreep(n,"RemoteHarvester"+Game.time,{memory:{role:"remoteHarvester",homeRoom:e.name,targetRoom:r.roomName,remoteSourceId:r.sourceId}})===OK)return}const Y=o.default.filter(Game.flags,e=>e.name.toLowerCase().startsWith("remoteharvest"));if(Y.length>0)for(const r of Y){const n=r.name.split("_");if(3===n.length){const r=n[1],i=n[2];if(!o.default.find(F,e=>e.memory.targetRoom===r&&e.memory.remoteSourceId===i)){const n=c(d);if(n.length>0&&t.spawnCreep(n,"RemoteHarvester"+Game.time,{memory:{role:"remoteHarvester",homeRoom:e.name,targetRoom:r,remoteSourceId:i}})===OK)return}}}const G=o.default.filter(Game.creeps,e=>"carrier"===e.memory.role),L=o.default.filter(Game.flags,e=>e.name.toLowerCase().startsWith("carrier"));if(L.length>0)for(const r of L){const n=r.name.split("_");if(3===n.length){const r=n[1],i=n[2];if(!o.default.find(G,e=>e.memory.targetRoom===r&&e.memory.remoteContainerId===i)){const n=_(d);if(n.length>0&&t.spawnCreep(n,"Carrier"+Game.time,{memory:{role:"carrier",homeRoom:e.name,targetRoom:r,remoteContainerId:i}})===OK)return}}}const B=o.default.filter(Game.creeps,e=>"reserver"===e.memory.role);for(const e in Memory.remoteRooms){const r=Memory.remoteRooms[e];if(r.safe&&!r.hasEnemyStructures&&r.needsReserving&&!o.default.find(B,t=>t.memory.targetRoom===e)){const r=R(d);if(r.length>0&&t.spawnCreep(r,"Reserver"+Game.time,{memory:{role:"reserver",targetRoom:e}})===OK)return}}const W=o.default.filter(Game.flags,e=>e.name.toLowerCase().startsWith("reserver"));if(W.length>0)for(const e of W){const r=e.name.split("_");if(2===r.length){const e=r[1];if(!o.default.find(B,t=>t.memory.targetRoom===e)){const r=R(d);if(r.length>0&&t.spawnCreep(r,"Reserver"+Game.time,{memory:{role:"reserver",targetRoom:e}})===OK)return}}}let K=1;if(A>=4&&(e.storage&&e.storage.store[RESOURCE_ENERGY]>5e4&&(K=2),e.storage&&e.storage.store[RESOURCE_ENERGY]>1e5&&(K=3)),E.length<K){const e=0===E.length?s(g):s(d);if(e.length>0&&t.spawnCreep(e,"Upgrader"+Game.time,{memory:{role:"upgrader"}})===OK)return}const j=I.length>5&&A>=3?1:0;if(U.length<j){const e=0===U.length?p(g):p(d);if(e.length>0&&t.spawnCreep(e,"Repairer"+Game.time,{memory:{role:"repairer",repairing:!1}})===OK)return}if(S.length<1){const e=0===S.length?l(g):l(d);if(e.length>0&&t.spawnCreep(e,"Builder"+Game.time,{memory:{role:"builder"}})===OK)return}if(A>=4&&o.default.filter(Game.creeps,e=>"scout"===e.memory.role).length<1){let e=null;for(const t in Memory.roomsToExplore)if(Memory.roomsToExplore[t]){e=t;break}if(e){const r=g<50?[]:[MOVE];if(r.length>0&&t.spawnCreep(r,"Scout"+Game.time,{memory:{role:"scout",targetRoom:e}})===OK)return Memory.roomsToExplore[e]=!1,void console.log(`Spawning new scout for target room ${e}`)}}}};t.default=m},604(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.managerTower=void 0;const o=n(r(543)),i=r(727),u=r(761);t.managerTower={run(e){var t;e.memory.primaryHostileTargetId||(e.memory.primaryHostileTargetId=null);const r=u.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.structureType===STRUCTURE_TOWER);if(r.length>0){let n=null;if(e.memory.primaryHostileTargetId){const t=Game.getObjectById(e.memory.primaryHostileTargetId);t&&t instanceof Creep?n=t:e.memory.primaryHostileTargetId=null}n||r[0]&&(n=(0,i.findPrioritizedHostileCreep)(r[0]),n&&(e.memory.primaryHostileTargetId=n.id));for(const i of r)if(n)i.attack(n);else{let r=null;const n=u.cacheUtils.findInRoom(e,FIND_STRUCTURES,e=>(e.structureType===STRUCTURE_SPAWN||e.structureType===STRUCTURE_CONTROLLER||e.structureType===STRUCTURE_CONTAINER)&&e.hits<.2*e.hitsMax);if(n.length>0&&(r=o.default.minBy(n,e=>e.hits)),!r){const n=(null===(t=e.controller)||void 0===t?void 0:t.level)||1;let i=1e4;4===n?i=5e4:5===n?i=1e5:6===n?i=25e4:7===n?i=5e5:n>=8&&(i=1e6);const a=u.cacheUtils.findInRoom(e,FIND_STRUCTURES,e=>(e.structureType===STRUCTURE_WALL||e.structureType===STRUCTURE_RAMPART)&&e.hits<i);a.length>0&&(r=o.default.minBy(a,e=>e.hits))}if(!r){const t=u.cacheUtils.findInRoom(e,FIND_MY_STRUCTURES,e=>e.hits<.9*e.hitsMax&&e.structureType!==STRUCTURE_WALL&&e.structureType!==STRUCTURE_RAMPART);t.length>0&&(r=o.default.minBy(t,e=>e.hits))}r&&i.repair(r)}}}}},369(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(727),o={run:function(e){const t=(0,n.findPrioritizedHostileCreep)(e);if(t){if(e.rangedAttack(t)===ERR_NOT_IN_RANGE)if(e.pos.inRangeTo(t,2)){const r=PathFinder.search(e.pos,{pos:t.pos,range:3},{flee:!0,roomCallback:e=>{const t=Game.rooms[e];if(!t)return!1;const r=new PathFinder.CostMatrix;return t.find(FIND_STRUCTURES).forEach(function(e){e.structureType===STRUCTURE_ROAD?r.set(e.pos.x,e.pos.y,1):e.structureType===STRUCTURE_CONTAINER||e.structureType===STRUCTURE_RAMPART&&e.my||r.set(e.pos.x,e.pos.y,255)}),r}});r.path.length>0?e.moveByPath(r.path):e.moveTo(t,{visualizePathStyle:{stroke:"#ffaa00"}})}else e.moveTo(t,{visualizePathStyle:{stroke:"#ffaa00"}})}else{const t=e.room.find(FIND_MY_SPAWNS)[0];t&&e.moveTo(t,{visualizePathStyle:{stroke:"#ffffff"}})}}};t.default=o},119(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(491)),i=n(r(401)),u={run:function(e){e.memory.building&&0===e.store[RESOURCE_ENERGY]&&(e.memory.building=!1,delete e.memory.targetBuildId),e.memory.building||0!==e.store.getFreeCapacity()||(e.memory.building=!0,delete e.memory.targetEnergyId),e.memory.building?i.default.run(e):o.default.run(e)}};t.default=u},52(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(328)),i={run:function(e){if(e.memory.targetRoom&&e.memory.homeRoom&&e.memory.remoteContainerId){if(e.memory.working&&e.room.name===e.memory.homeRoom)return void(!o.default.run(e)&&e.store.getUsedCapacity(RESOURCE_ENERGY)>0||0===e.store.getUsedCapacity(RESOURCE_ENERGY)&&(e.memory.working=!1,delete e.memory.deliveryTargetId));if(e.room.name===e.memory.targetRoom){const t=Game.getObjectById(e.memory.remoteContainerId);if(!t){console.log(`${e.name} in room ${e.memory.targetRoom} cannot find remote container ${e.memory.remoteContainerId}.`);const t=new RoomPosition(25,25,e.memory.homeRoom);return void e.moveTo(t,{reusePath:50,visualizePathStyle:{stroke:"#ffffff"}})}if(e.store.getFreeCapacity(RESOURCE_ENERGY)>0)if(t.store.getUsedCapacity(RESOURCE_ENERGY)>0)e.withdraw(t,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&e.moveTo(t,{reusePath:50,visualizePathStyle:{stroke:"#ffaa00"}}),e.memory.working=!1;else{const t=new RoomPosition(25,25,e.memory.homeRoom);e.moveTo(t,{reusePath:50,visualizePathStyle:{stroke:"#ffffff"}}),e.memory.working=!0}else{const t=new RoomPosition(25,25,e.memory.homeRoom);e.moveTo(t,{reusePath:50,visualizePathStyle:{stroke:"#ffffff"}}),e.memory.working=!0}return}if(e.memory.working){const t=new RoomPosition(25,25,e.memory.homeRoom);e.moveTo(t,{reusePath:50,visualizePathStyle:{stroke:"#ffffff"}})}else{const t=new RoomPosition(25,25,e.memory.targetRoom);e.moveTo(t,{reusePath:50,visualizePathStyle:{stroke:"#ffaa00"}})}}else console.log(`${e.name} has no target room, home room, or remote container defined.`)}};t.default=i},605(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(727),o={run:function(e){const t=(0,n.findPrioritizedHostileCreep)(e);if(t)e.attack(t)===ERR_NOT_IN_RANGE&&e.moveTo(t,{visualizePathStyle:{stroke:"#ffaa00"}});else{const t=e.room.find(FIND_MY_SPAWNS)[0];t&&e.moveTo(t,{visualizePathStyle:{stroke:"#ffffff"}})}}};t.default=o},978(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(543)),i=n(r(328)),u=r(761),a={run:function(e){const t=u.cacheUtils.getHostiles(e.room),r=u.cacheUtils.findInRoom(e.room,FIND_MY_STRUCTURES,e=>e.structureType===STRUCTURE_EXTENSION,10).length>=5,n=e.pos.findInRange(t,3);if(n.length>0&&r){const t=e.pos.findClosestByRange(n);if(t){const r=PathFinder.search(e.pos,{pos:t.pos,range:5},{flee:!0,plainCost:1,swampCost:5,roomCallback:e=>{let t=Game.rooms[e];if(!t)return new PathFinder.CostMatrix;const r=new PathFinder.CostMatrix;return u.cacheUtils.getHostiles(t).forEach(e=>r.set(e.pos.x,e.pos.y,255)),u.cacheUtils.findInRoom(t,FIND_STRUCTURES,void 0,10).forEach(e=>{e.structureType!==STRUCTURE_ROAD&&e.structureType!==STRUCTURE_CONTAINER&&e.structureType!==STRUCTURE_RAMPART&&r.set(e.pos.x,e.pos.y,255)}),r}});if(r.path.length>0)return void e.moveTo(r.path[0],{visualizePathStyle:{stroke:"#00ffff"}})}}if(e.store.getFreeCapacity()>0){const r=Game.getObjectById(e.memory.sourceId);if(r)e.harvest(r)===ERR_NOT_IN_RANGE&&e.moveTo(r,{visualizePathStyle:{stroke:"#ffaa00"}});else{const r=u.cacheUtils.findInRoom(e.room,FIND_HOSTILE_STRUCTURES,void 0,10),n=u.cacheUtils.getSources(e.room).filter(e=>function(e,t,r){for(const r of t)if(e.pos.getRangeTo(r)<=10)return!1;for(const t of r)if(e.pos.getRangeTo(t)<=10)return!1;return!0}(e,r,t)),i=e.room.controller&&e.room.controller.level<4?2:1;let a=null,l=1/0;for(const e of n){const t=o.default.filter(Game.creeps,t=>"harvester"===t.memory.role&&t.memory.sourceId===e.id).length;t<i&&t<l&&(l=t,a=e)}a&&(e.memory.sourceId=a.id,e.say("⛏️"))}}else if(o.default.filter(Game.creeps,t=>"supplier"===t.memory.role&&t.room.name===e.room.name).length>0){const t=e.pos.findInRange(FIND_MY_STRUCTURES,3,{filter:e=>e.structureType===STRUCTURE_LINK&&e.store.getFreeCapacity(RESOURCE_ENERGY)>0});if(t.length>0){const r=o.default.minBy(t,t=>e.pos.getRangeTo(t));if(r)return void(e.transfer(r,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&e.moveTo(r,{visualizePathStyle:{stroke:"#ffffff"}}))}const r=Game.getObjectById(e.memory.sourceId);let n=null;if(r){const t=r.pos.findInRange(FIND_STRUCTURES,3,{filter:e=>e.structureType===STRUCTURE_CONTAINER&&e.store.getFreeCapacity(RESOURCE_ENERGY)>0});t.length>0&&(n=o.default.minBy(t,t=>e.pos.getRangeTo(t))||null)}n?e.transfer(n,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&e.moveTo(n,{visualizePathStyle:{stroke:"#ffffff"}}):e.drop(RESOURCE_ENERGY)}else i.default.run(e)}};t.default=a},292(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(543)),i=n(r(328)),u={run:function(e){void 0===e.memory.working&&(e.memory.working=!1),e.memory.working||0!==e.store.getFreeCapacity()||(e.memory.working=!0,e.say("🚚 Return")),e.memory.working&&0===e.store.getUsedCapacity()&&(e.memory.working=!1,e.say("⛏️ Harvest"));const t=e.memory.targetRoom,r=e.memory.homeRoom;if(!t||!r)return void console.log(`${e.name} has no target room or home room defined.`);if(t===r){e.say("💀 Mistake");const t=e.pos.findClosestByRange(FIND_MY_SPAWNS);return void(t?t.recycleCreep(e)===ERR_NOT_IN_RANGE&&e.moveTo(t):e.suicide())}const n=e.room.find(FIND_HOSTILE_CREEPS,{filter:e=>e.getActiveBodyparts(ATTACK)>0||e.getActiveBodyparts(RANGED_ATTACK)>0});if(n.length>0)if(e.say("😱 Flee!"),e.room.name===t&&Memory.remoteRooms&&Memory.remoteRooms[t]&&(Memory.remoteRooms[t].safe=!1,Memory.remoteRooms[t].lastScouted=Game.time),e.room.name!==r){const t=new RoomPosition(25,25,r);e.moveTo(t,{reusePath:10,visualizePathStyle:{stroke:"#ff0000"}})}else{const t=n.map(e=>({pos:e.pos,range:5})),r=PathFinder.search(e.pos,t,{flee:!0});r.path.length>0&&e.move(e.pos.getDirectionTo(r.path[0]))}else if(e.memory.working)if(e.room.name===r){if(!i.default.run(e)){const t=e.room.storage||e.room.find(FIND_MY_SPAWNS)[0];t&&e.pos.getRangeTo(t)>3&&e.moveTo(t,{reusePath:10})}}else{const t=new RoomPosition(25,25,r);e.moveTo(t,{reusePath:50,visualizePathStyle:{stroke:"#ffffff"}})}else if(e.room.name===t){let t=null;if(e.memory.remoteSourceId&&(t=Game.getObjectById(e.memory.remoteSourceId)),!t){const r=e.room.find(FIND_SOURCES);r.length>0&&(t=o.default.minBy(r,e=>e.pos.findInRange(FIND_CREEPS,2,{filter:e=>"remoteHarvester"===e.memory.role||"harvester"===e.memory.role}).length)||r[0],e.memory.remoteSourceId=t.id)}if(t)e.harvest(t)===ERR_NOT_IN_RANGE&&e.moveTo(t,{reusePath:20,visualizePathStyle:{stroke:"#ffaa00"}});else{const t=new RoomPosition(25,25,r);e.moveTo(t,{reusePath:50})}}else{const r=new RoomPosition(25,25,t);e.moveTo(r,{reusePath:50,visualizePathStyle:{stroke:"#ffaa00"}})}}};t.default=u},864(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(692)),i=n(r(491)),u={run:function(e){e.memory.repairing&&0===e.store.getUsedCapacity(RESOURCE_ENERGY)&&(e.memory.repairing=!1,delete e.memory.targetRepairId),e.memory.repairing||0!==e.store.getFreeCapacity()||(e.memory.repairing=!0,delete e.memory.targetEnergyId),e.memory.repairing?o.default.run(e):i.default.run(e)}};t.default=u},648(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={run:function(e){if(e.memory.targetRoom){if(e.room.name!==e.memory.targetRoom){const t=new RoomPosition(25,25,e.memory.targetRoom);return void e.moveTo(t,{reusePath:50,visualizePathStyle:{stroke:"#00ff00"}})}if(e.room.controller){const t=e.room.controller.reservation;if(t&&t.ticksToEnd>=4999)return void(e.pos.isNearTo(e.room.controller)?e.say("⚡"):e.moveTo(e.room.controller,{reusePath:50,visualizePathStyle:{stroke:"#00ff00"}}));e.reserveController(e.room.controller)===ERR_NOT_IN_RANGE?e.moveTo(e.room.controller,{reusePath:50,visualizePathStyle:{stroke:"#00ff00"}}):e.reserveController(e.room.controller)===ERR_NO_BODYPART&&console.log(`${e.name} has no CLAIM parts to reserve controller.`)}else console.log(`${e.name} in room ${e.memory.targetRoom} found no controller to reserve.`)}else console.log(`${e.name} has no target room defined for reserving.`)}};t.default=r},70(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={run:function(e){if(!e.memory.targetRoom)return void console.log(`${e.name} has no target room.`);if(e.room.name!==e.memory.targetRoom){const t=new RoomPosition(25,25,e.memory.targetRoom);return void e.moveTo(t,{reusePath:50,visualizePathStyle:{stroke:"#ffffff"}})}const t=Game.map.describeExits(e.room.name);for(const r in t){const n=t[r];!n||Memory.roomsToExplore[n]||n.includes("W")&&n.includes("E")&&n.includes("N")&&n.includes("S")||(Memory.roomsToExplore[n]=!0,console.log(`Scout ${e.name} added room ${n} to roomsToExplore.`))}if(e.room.controller)e.pos.isNearTo(e.room.controller.pos)?e.room.controller.sign&&e.room.controller.sign.username!==e.owner.username&&e.signController(e.room.controller,"This room is being explored by Hermann's empire."):e.moveTo(e.room.controller,{reusePath:10,visualizePathStyle:{stroke:"#ffffff"}});else{const t=Math.floor(8*Math.random())+1;e.move(t)}}};t.default=r},594(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(543)),i=n(r(328)),u=n(r(491)),a=n(r(692)),l=r(342),s={run:function(e){if(e.memory.delivering&&0===e.store.getUsedCapacity()&&(e.memory.delivering=!1,delete e.memory.deliveryTargetId),e.memory.delivering||0!==e.store.getFreeCapacity()||(e.memory.delivering=!0,delete e.memory.targetEnergyId),e.memory.delivering)i.default.run(e)||a.default.run(e);else{let t=e.memory.targetEnergyId?Game.getObjectById(e.memory.targetEnergyId):null;if(!t){const r=e.room.find(FIND_SOURCES),n=e.room.find(FIND_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_CONTAINER&&e.store.getUsedCapacity(RESOURCE_ENERGY)-(0,l.getIncomingCollection)(e.id)>0&&r.some(t=>e.pos.getRangeTo(t)<=3)});n.length>0&&(t=o.default.maxBy(n,e=>e.store[RESOURCE_ENERGY]-(0,l.getIncomingCollection)(e.id))||null,t&&(e.memory.targetEnergyId=t.id))}t&&t instanceof StructureContainer&&t.pos.findInRange(FIND_SOURCES,3).length>0?e.withdraw(t,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE?e.moveTo(t,{visualizePathStyle:{stroke:"#ffaa00"}}):(e.say("🔌"),delete e.memory.targetEnergyId):u.default.run(e)}}};t.default=s},180(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(949)),i=n(r(491)),u=r(448),a=r(342),l={run:function(e){if(e.memory.upgrading&&0===e.store[RESOURCE_ENERGY]&&(e.memory.upgrading=!1,e.say("🔌")),e.memory.upgrading||0!==e.store.getFreeCapacity()||(e.memory.upgrading=!0,delete e.memory.targetEnergyId,e.say("⚡")),e.memory.upgrading){const t="Stay away! This room is protected by advanced AI. 🛡️💀";if(e.room.controller&&(!e.room.controller.sign||e.room.controller.sign.text!==t)&&e.signController(e.room.controller,t)===ERR_NOT_IN_RANGE)return void e.moveTo(e.room.controller,{visualizePathStyle:{stroke:"#ffffff"}});o.default.run(e)}else{const t=e.pos.findClosestByRange(FIND_MY_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_LINK&&e.store[RESOURCE_ENERGY]>0});if(t)e.withdraw(t,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&e.moveTo(t,{visualizePathStyle:{stroke:"#ffaa00"}});else{const t=(0,u.findControllerContainer)(e.room);t&&"store"in t&&t.store.getUsedCapacity(RESOURCE_ENERGY)-(0,a.getIncomingCollection)(t.id)>0?e.withdraw(t,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&e.moveTo(t,{visualizePathStyle:{stroke:"#ffaa00"}}):i.default.run(e)}}}};t.default=l},401(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(342),o={run:function(e){const t=e.room.find(FIND_CONSTRUCTION_SITES,{filter:t=>e.memory.targetBuildId===t.id||(0,n.getIncomingWork)(t.id,"targetBuildId")<10});if(0===t.length)return delete e.memory.targetBuildId,!1;const r=e.pos.findClosestByPath(t);return r?(e.memory.targetBuildId=r.id,e.build(r)===ERR_NOT_IN_RANGE&&e.moveTo(r,{visualizePathStyle:{stroke:"#ffffff"}}),!0):(delete e.memory.targetBuildId,!1)}};t.default=o},491(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(543)),i=r(342),u={run:function(e){if(e.memory.assignedSupplier){const t=Game.getObjectById(e.memory.assignedSupplier);if(t&&t.store[RESOURCE_ENERGY]>0)return void(e.pos.getRangeTo(t)>1&&e.moveTo(t,{visualizePathStyle:{stroke:"#ffaa00"}}));delete e.memory.assignedSupplier}const t=e.store.getFreeCapacity(RESOURCE_ENERGY);let r=e.memory.targetEnergyId?Game.getObjectById(e.memory.targetEnergyId):null;if(r&&("store"in r?r.store[RESOURCE_ENERGY]:r instanceof Resource?r.amount:0)-((0,i.getIncomingCollection)(r.id)-t)<=0&&(delete e.memory.targetEnergyId,r=null),!r){const n=e=>("store"in e?e.store[RESOURCE_ENERGY]:e instanceof Resource?e.amount:0)-(0,i.getIncomingCollection)(e.id),u=e.pos.findInRange(FIND_STRUCTURES,3,{filter:r=>(r.structureType===STRUCTURE_CONTAINER||r.structureType===STRUCTURE_STORAGE)&&(!(n(r)<=.5*t)&&("supplier"!==e.memory.role||r.structureType!==STRUCTURE_STORAGE||e.room.find(FIND_STRUCTURES,{filter:e=>(e.structureType===STRUCTURE_SPAWN||e.structureType===STRUCTURE_EXTENSION||e.structureType===STRUCTURE_TOWER)&&e.store.getFreeCapacity(RESOURCE_ENERGY)-(e.structureType===STRUCTURE_TOWER?100:0)>0}).length>0))});if(u.length>0&&(r=e.pos.findClosestByRange(u)),!r){const t=e.room.find(FIND_STRUCTURES,{filter:e=>e.structureType===STRUCTURE_CONTAINER&&n(e)>0});t.length>0&&(r=e.pos.findClosestByRange(t))}if(!r&&e.room.storage&&n(e.room.storage)>0){let t=!0;"supplier"===e.memory.role&&(e.room.find(FIND_STRUCTURES,{filter:e=>(e.structureType===STRUCTURE_SPAWN||e.structureType===STRUCTURE_EXTENSION||e.structureType===STRUCTURE_TOWER)&&e.store.getFreeCapacity(RESOURCE_ENERGY)-(e.structureType===STRUCTURE_TOWER?100:0)>0}).length>0||(t=!1)),t&&(r=e.room.storage)}if(!r){const t=e.room.find(FIND_DROPPED_RESOURCES,{filter:e=>e.resourceType===RESOURCE_ENERGY&&n(e)>50});t.length>0&&(r=o.default.maxBy(t,t=>{const r=n(t),o=e.pos.getRangeTo(t);return r/Math.max(o,1)})||null)}r&&(e.memory.targetEnergyId=r.id,e.say("🔌"))}if(r){const t=r instanceof Resource?e.pickup(r):e.withdraw(r,RESOURCE_ENERGY);t===ERR_NOT_IN_RANGE?e.moveTo(r,{visualizePathStyle:{stroke:"#ffaa00",opacity:.5}}):t!==OK&&t!==ERR_FULL&&t!==ERR_NOT_ENOUGH_RESOURCES||delete e.memory.targetEnergyId}}};t.default=u},328(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(543)),i=r(448),u=r(342),a=r(761),l={run:function(e){const t=e.store.getUsedCapacity(RESOURCE_ENERGY);let r=null;if(e.memory.deliveryTargetId&&(r=Game.getObjectById(e.memory.deliveryTargetId),r)&&r.store.getFreeCapacity(RESOURCE_ENERGY)-((0,u.getIncomingEnergy)(r.id)-t)<=0&&(r instanceof Creep&&r.memory.assignedSupplier===e.id&&delete r.memory.assignedSupplier,delete e.memory.deliveryTargetId,r=null),!r){const n=r=>{const n=r.store.getFreeCapacity(RESOURCE_ENERGY)-(0,u.getIncomingEnergy)(r.id);if(n<=0)return-1;const o=e.pos.getRangeTo(r);return Math.min(t,n)/Math.max(o,1)},l=a.cacheUtils.findInRoom(e.room,FIND_STRUCTURES,e=>(e.structureType===STRUCTURE_SPAWN||e.structureType===STRUCTURE_EXTENSION)&&e.store.getFreeCapacity(RESOURCE_ENERGY)-(0,u.getIncomingEnergy)(e.id)>0,1);if(l.length>0&&(r=o.default.maxBy(l,e=>n(e))||null),!r){const t=a.cacheUtils.findInRoom(e.room,FIND_STRUCTURES,e=>e.structureType===STRUCTURE_TOWER&&e.store.getFreeCapacity(RESOURCE_ENERGY)-(0,u.getIncomingEnergy)(e.id)>100,1);t.length>0&&(r=o.default.maxBy(t,e=>n(e))||null)}if(!r){const t=a.cacheUtils.findInRoom(e.room,FIND_CREEPS,e=>("upgrader"===e.memory.role||"builder"===e.memory.role)&&e.store.getFreeCapacity(RESOURCE_ENERGY)-(0,u.getIncomingEnergy)(e.id)>20&&!e.memory.assignedSupplier,1);t.length>0&&(r=o.default.maxBy(t,e=>n(e))||null,r&&(r.memory.assignedSupplier=e.id))}if(!r&&e.room.storage&&e.room.storage.store.getFreeCapacity(RESOURCE_ENERGY)-(0,u.getIncomingEnergy)(e.room.storage.id)>0&&(r=e.room.storage),!r&&e.room.terminal&&e.room.terminal.store.getFreeCapacity(RESOURCE_ENERGY)-(0,u.getIncomingEnergy)(e.room.terminal.id)>1e4&&((e.room.storage?e.room.storage.store[RESOURCE_ENERGY]:0)>5e4||e.room.terminal.store[RESOURCE_ENERGY]<1e4)&&(r=e.room.terminal),!r){const t=(0,i.findControllerContainer)(e.room);t&&"store"in t&&t.store.getFreeCapacity(RESOURCE_ENERGY)-(0,u.getIncomingEnergy)(t.id)>0&&(r=t)}if(!r){const t=a.cacheUtils.getSources(e.room),i=a.cacheUtils.findInRoom(e.room,FIND_STRUCTURES,r=>r.structureType===STRUCTURE_CONTAINER&&r.store.getFreeCapacity(RESOURCE_ENERGY)-(0,u.getIncomingEnergy)(r.id)>0&&!t.some(e=>r.pos.getRangeTo(e)<=3)&&(!e.room.controller||r.pos.getRangeTo(e.room.controller)>3),5);i.length>0&&(r=o.default.maxBy(i,e=>n(e))||null)}r&&(e.memory.deliveryTargetId=r.id,e.say("📦"))}if(r){const t=e.transfer(r,RESOURCE_ENERGY);return t===ERR_NOT_IN_RANGE?e.moveTo(r,{visualizePathStyle:{stroke:"#ffffff",opacity:.5}}):t!==OK&&t!==ERR_FULL&&t!==ERR_INVALID_TARGET||(r instanceof Creep&&r.memory.assignedSupplier===e.id&&delete r.memory.assignedSupplier,delete e.memory.deliveryTargetId),!0}return!1}};t.default=l},692(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(543)),i=r(342),u={run:function(e){let t=e.memory.targetRepairId?Game.getObjectById(e.memory.targetRepairId):null;if(t&&t.hits>=t.hitsMax&&(delete e.memory.targetRepairId,t=null),!t){const r=e.room.find(FIND_STRUCTURES,{filter:t=>{var r;const n=t.hits<.8*t.hitsMax,o=t.structureType===STRUCTURE_WALL||t.structureType===STRUCTURE_RAMPART,u=(null===(r=e.room.controller)||void 0===r?void 0:r.level)||1;let a=1e4;if(4===u?a=5e4:5===u?a=1e5:6===u?a=25e4:7===u?a=5e5:u>=8&&(a=1e6),o&&t.hits>=a)return!1;if(!n&&!o)return!1;const l=(0,i.getIncomingWork)(t.id,"targetRepairId");return o?l<10:0===l}});r.length>0&&(t=o.default.minBy(r,e=>e.hits/e.hitsMax)||null,t&&(e.memory.targetRepairId=t.id,e.say("🛠️")))}return!!t&&(e.repair(t)===ERR_NOT_IN_RANGE&&e.moveTo(t,{visualizePathStyle:{stroke:"#ff0000"}}),!0)}};t.default=u},949(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={run:function(e){return!!e.room.controller&&(e.upgradeController(e.room.controller)===ERR_NOT_IN_RANGE&&e.moveTo(e.room.controller,{visualizePathStyle:{stroke:"#ffffff"}}),!0)}};t.default=r},761(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cacheUtils=void 0;const r={};t.cacheUtils={get:function(e,t,n=50){const o=r[e],i=Game.time;if(o&&i-o.timestamp<n)return o.data;const u=t();return r[e]={data:u,timestamp:i},u},findInRoom:function(e,t,r,n=10){const o=`find_${e.name}_${t}`;let i=n;t===FIND_SOURCES||t===FIND_MINERALS?i=500:t!==FIND_HOSTILE_CREEPS&&t!==FIND_MY_STRUCTURES&&t!==FIND_CONSTRUCTION_SITES||(i=Math.max(n,1));const u=r?`${o}_${r.toString().length}_${i}`:o;return this.get(u,()=>e.find(t,r?{filter:r}:void 0),i)},getSources:function(e){return this.findInRoom(e,FIND_SOURCES)},getStructures:function(e){return this.findInRoom(e,FIND_STRUCTURES,void 0,5)},getMyStructures:function(e){return this.findInRoom(e,FIND_MY_STRUCTURES,void 0,5)},getHostiles:function(e){return this.findInRoom(e,FIND_HOSTILE_CREEPS,void 0,1)},invalidate:function(e){delete r[e]},clearTickCache:function(){const e=Game.time;for(const t in r)e-r[t].timestamp>1e3&&delete r[t]}}},727(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findPrioritizedHostileCreep=function(e){const t=e.room.find(FIND_HOSTILE_CREEPS);return 0===t.length?null:(t.sort((t,r)=>{const n=t.getActiveBodyparts(ATTACK)>0||t.getActiveBodyparts(RANGED_ATTACK)>0,o=r.getActiveBodyparts(ATTACK)>0||r.getActiveBodyparts(RANGED_ATTACK)>0;if(n&&!o)return-1;if(!n&&o)return 1;const i=t.getActiveBodyparts(HEAL)>0,u=r.getActiveBodyparts(HEAL)>0;if(i&&!u)return-1;if(!i&&u)return 1;const a=t.getActiveBodyparts(WORK)>0,l=r.getActiveBodyparts(WORK)>0;return a&&!l?-1:!a&&l?1:e.pos.getRangeTo(t)-e.pos.getRangeTo(r)}),t[0])}},342(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidTarget=t.getIncomingWork=t.getIncomingCollection=t.getIncomingEnergy=void 0;const o=n(r(543));t.getIncomingEnergy=e=>o.default.sumBy(o.default.filter(Game.creeps,t=>t.memory.deliveryTargetId===e),e=>e.store.getUsedCapacity(RESOURCE_ENERGY)),t.getIncomingCollection=e=>o.default.sumBy(o.default.filter(Game.creeps,t=>t.memory.targetEnergyId===e),e=>e.store.getFreeCapacity(RESOURCE_ENERGY)),t.getIncomingWork=(e,t)=>o.default.sumBy(o.default.filter(Game.creeps,r=>r.memory[t]===e),e=>e.getActiveBodyparts(WORK)),t.isValidTarget=(e,t)=>!!e&&(e instanceof Creep?e.store.getFreeCapacity(RESOURCE_ENERGY)>0:e instanceof Resource?e.amount>0:e instanceof ConstructionSite||("store"in e?"supplier"===t||"deliverer"===t?e.store.getFreeCapacity(RESOURCE_ENERGY)>0:e.store.getUsedCapacity(RESOURCE_ENERGY)>0:"hits"in e&&"hitsMax"in e&&e.hits<e.hitsMax))},474(module){module.exports=function(){"object"!=typeof Memory.watch&&(Memory.watch={}),"object"!=typeof Memory.watch.expressions&&(Memory.watch.expressions={}),"object"!=typeof Memory.watch.values&&(Memory.watch.values={}),_.each(Memory.watch.expressions,(expr,name)=>{if("string"!=typeof expr)return;let result;try{result=eval(expr)}catch(e){result="Error: "+e.message}"console"==name?void 0!==result&&console.log(result):Memory.watch.values[name]=void 0!==result?result.toString():result})}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__=__webpack_require__(927),__webpack_export_target__=exports;for(var __webpack_i__ in __webpack_exports__)__webpack_export_target__[__webpack_i__]=__webpack_exports__[__webpack_i__];__webpack_exports__.__esModule&&Object.defineProperty(__webpack_export_target__,"__esModule",{value:!0})})();